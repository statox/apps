import{s as tt,f as v,a as p,l as J,g as I,N as G,c as B,h as T,d as u,m as Q,j as H,i as S,H as k,w as N,r as et,A as ot,I as nt}from"../chunks/scheduler.iIK8JZF-.js";import{S as it,i as st,b as rt,d as at,m as lt,a as ct,t as mt,e as dt}from"../chunks/index.4WrFP_y-.js";import{P as ht}from"../chunks/P5.70j_pxaK.js";const U=Math.PI,O={scale:1,position:0,outerRing:{labels:["B°","F♯°","C♯°","G♯°","D♯°","A♯°","F°","C°","G°","D°","A°","E°"],cellSize:2*U/48,ratio:4,innerDiameter:.82,outerDiameter:1},middleRing:{labels:["Em","Am","Bm","Em","F♯m","Bm","C♯m","F♯m","G♯m","C♯m","D♯m","G♯m","A♯m","E♭m","Fm","B♭m","Cm","Fm","Gm","Cm","Dm","Gm","Am","Dm"],cellSize:2*U/24,ratio:1,innerDiameter:.6,outerDiameter:.82},innerRing:{labels:["C","G","D","A","F♭/E","C♭/B","G♭/F♯","D♭/C♯","A♭/G♯","E♭","B♭","F"],cellSize:2*U/12,ratio:1,innerDiameter:.35,outerDiameter:.6}},V=(t,o)=>{if(t>=0)return t%o;for(;t<0;)t+=o;return t},$=(t,o,n,l,a)=>{if(n<0||n>=o.labels.length)throw new Error(`OOB labelIndex: ${n}`);const{cellSize:r,innerDiameter:c,outerDiameter:s,ratio:x}=o,i=t.createVector();i.x=0,i.y=-s/2;const f=n*r*x;i.rotate(f);const e=r/2,y=[i.copy().rotate(-e).setMag(c),i.copy().rotate(-e).setMag(s),i.copy().setMag(s*1.02),i.copy().rotate(e).setMag(s),i.copy().rotate(e).setMag(c),i.copy().setMag(c*1.02)].map(g=>g.mult(a)),h=i.copy().setMag(c+(s-c)/2).mult(a),m=V(n+l,o.labels.length)*360/o.labels.length;return{vertices:y,center:h,label:o.labels[n],color:`hsb(${m}, 50%, 80%)`,colorHue:m}},X=(t,o)=>{const{scale:n}=o,l=o.innerRing.labels.map((c,s)=>$(t,o.innerRing,s,o.position,n)),a=o.middleRing.labels.map((c,s)=>$(t,o.middleRing,s,o.position*2,n)),r=o.outerRing.labels.map((c,s)=>$(t,o.outerRing,s,o.position,n));return{tilesInnerRing:l,tilesMiddleRing:a,tilesOuterRing:r}},Y=(t,o)=>{t.strokeWeight(2),t.stroke([0,0,0,.5]),t.fill(`hsb(${o.colorHue}, 50%, 70%)`);const[n,l,a,r,c,s]=o.vertices;t.beginShape(),t.vertex(n.x,n.y),t.vertex(l.x,l.y),t.quadraticVertex(a.x,a.y,r.x,r.y),t.vertex(r.x,r.y),t.vertex(c.x,c.y),t.quadraticVertex(s.x,s.y,n.x,n.y),t.endShape(),t.noStroke(),t.fill(0),t.textSize(13),t.text(o.label,o.center.x-t.textWidth(o.label)/2,o.center.y)},ut=(t,o,n,l,a)=>{const r=[n[V(o-1,n.length)],n[V(o,n.length)],n[V(o+1,n.length)],l[V(2*o-1,l.length)],l[V(2*o,l.length)],l[V(2*o+1,l.length)],a[V(o,a.length)]];for(const c of r){t.strokeWeight(3),t.stroke([0,0,0,1]),t.fill(`hsb(${c.colorHue}, 60%, 90%)`);const[s,x,i,f,e,y]=c.vertices;t.beginShape(),t.vertex(s.x,s.y),t.vertex(x.x,x.y),t.quadraticVertex(i.x,i.y,f.x,f.y),t.vertex(f.x,f.y),t.vertex(e.x,e.y),t.quadraticVertex(y.x,y.y,s.x,s.y),t.endShape(),t.noStroke(),t.fill(0),t.textSize(13),t.textStyle(t.BOLD),t.text(c.label,c.center.x-t.textWidth(c.label)/2,c.center.y),t.textStyle(t.NORMAL)}},xt=(t,o,n)=>{const{scale:l}=n;t.textSize(10),t.push(),t.rotate(o*(2*t.PI/12)),t.fill(250),t.circle(0,0,n.innerRing.innerDiameter*2*l),t.fill(0);const a=t.createVector();a.x=0,a.y=-n.innerRing.innerDiameter*l;const r="▲";t.text(r,a.x-t.textWidth(r)/2,a.y*.9);const c="Key";t.text(c,a.x-t.textWidth(c)/2,a.y*.75);const s=t.createVector(),x=["♯","♯♯","♯♯♯","♯♯♯♯","7♭/5♯","6♭/6♯","5♭/7♯","♭♭♭♭","♭♭♭","♭♭","♭"];s.y=-n.innerRing.innerDiameter*.85*l,t.push();for(const w of x)t.rotate(2*t.PI/12),t.text(w,-t.textWidth(w)/2,s.y);t.pop();const i=t.createVector();i.y=-n.innerRing.innerDiameter*1.04*l;const f="I";t.text(f,i.x-t.textWidth(f)/2,i.y);const e=t.createVector();e.y=-n.innerRing.outerDiameter*.9*l;const y="maj7,maj9";t.text(y,e.x-t.textWidth(y)/2,e.y),t.push(),t.rotate(-(2*t.PI)/12);const h="IV";t.text(h,i.x-t.textWidth(h)/2,i.y);const m="maj7,maj9";t.text(m,e.x-t.textWidth(m)/2,e.y),t.pop(),t.push(),t.rotate(2*t.PI/12);const g="V";t.text(g,i.x-t.textWidth(g)/2,i.y);const b="7,9,11,sus4,13";t.text(b,e.x-t.textWidth(b)/2,e.y),t.pop(),i.y=-n.middleRing.innerDiameter*1.02*l,e.y=-n.middleRing.outerDiameter*.95*l;const C="III";t.text(C,i.x-t.textWidth(C)/2,i.y);const R="m7";t.text(R,e.x-t.textWidth(R)/2,e.y),t.push(),t.rotate(-(2*t.PI)/24);const P="II";t.text(P,i.x-t.textWidth(P)/2,i.y);const E="m7,m9";t.text(E,e.x-t.textWidth(E)/2,e.y),t.pop(),t.push();const W="V I";t.rotate(2*t.PI/24),t.text(W,i.x-t.textWidth(W)/2,i.y);const j="m7,m9";t.text(j,e.x-t.textWidth(j)/2,e.y),t.pop();const A="V II°";i.y=-n.outerRing.innerDiameter*1.015*l,e.y=-n.outerRing.outerDiameter*.96*l,t.text(A,i.x-t.textWidth(A)/2,i.y);const D="m7♭5";t.text(D,e.x-t.textWidth(D)/2,e.y)},Z=(t,o)=>{if(o){t.position--,t.innerRing.labels.unshift(t.innerRing.labels.pop()),t.middleRing.labels.unshift(t.middleRing.labels.pop()),t.middleRing.labels.unshift(t.middleRing.labels.pop()),t.outerRing.labels.unshift(t.outerRing.labels.pop());return}t.position++,t.innerRing.labels.push(t.innerRing.labels.shift()),t.middleRing.labels.push(t.middleRing.labels.shift()),t.middleRing.labels.push(t.middleRing.labels.shift()),t.outerRing.labels.push(t.outerRing.labels.shift())};function ft(t){let o,n="Chord wheel",l,a,r,c,s,x,i,f,e,y,h,m,g,b,C,R,P="On mobile you can also swipe left/right to rotate the shape and up/down to rotate the wheel",E,W,j=`This page is an implementation of <a href="https://chordwheel.com/" target="_blank" rel="noopener noreferrer">Jim Fleser&#39;s Chord Wheel</a>
    it is intended for my personal use. If you are using this implementation you should definitely
    <a href="https://chordwheel.com/index.php?option=com_content&amp;view=article&amp;id=16&amp;Itemid=4" target="_blank" rel="noopener noreferrer">buy his book</a>
    or
    <a href="https://apps.apple.com/us/app/the-chord-wheel/id444931977" target="_blank" rel="noopener noreferrer">buy his app</a> (which is much more complete than this page).`,A,D,w=`This tool only works for songs in major keys.
    <ul><li><a href="https://chordwheel.com/index.php?option=com_content&amp;view=article&amp;id=5&amp;Itemid=17" target="_blank" rel="noopener noreferrer">Analyzing songs and compositional styles</a></li> <li><a href="https://chordwheel.com/index.php?option=com_content&amp;view=article&amp;id=8:soloing-and-improvisation&amp;catid=8:using-the-chordwheel&amp;Itemid=8" target="_blank" rel="noopener noreferrer">Soloing and improvisation</a></li> <li><a href="https://chordwheel.com/index.php?option=com_content&amp;view=article&amp;id=9&amp;Itemid=5" target="_blank" rel="noopener noreferrer">Transpositions</a></li></ul>`,F,q,K;return r=new ht({props:{sketch:t[3]}}),{c(){o=v("h3"),o.textContent=n,l=p(),a=v("div"),rt(r.$$.fragment),c=p(),s=v("div"),x=v("p"),i=v("button"),f=J(`
        Shape rotation
        `),e=v("button"),y=p(),h=v("p"),m=v("button"),g=J(`
        Wheel rotation
        `),b=v("button"),C=p(),R=v("p"),R.textContent=P,E=p(),W=v("div"),W.innerHTML=j,A=p(),D=v("div"),D.innerHTML=w,this.h()},l(d){o=I(d,"H3",{"data-svelte-h":!0}),G(o)!=="svelte-11nfyxx"&&(o.textContent=n),l=B(d),a=I(d,"DIV",{class:!0});var _=T(a);at(r.$$.fragment,_),_.forEach(u),c=B(d),s=I(d,"DIV",{class:!0});var M=T(s);x=I(M,"P",{});var L=T(x);i=I(L,"BUTTON",{class:!0}),T(i).forEach(u),f=Q(L,`
        Shape rotation
        `),e=I(L,"BUTTON",{class:!0}),T(e).forEach(u),L.forEach(u),y=B(M),h=I(M,"P",{});var z=T(h);m=I(z,"BUTTON",{class:!0}),T(m).forEach(u),g=Q(z,`
        Wheel rotation
        `),b=I(z,"BUTTON",{class:!0}),T(b).forEach(u),z.forEach(u),C=B(M),R=I(M,"P",{"data-svelte-h":!0}),G(R)!=="svelte-sorsau"&&(R.textContent=P),M.forEach(u),E=B(d),W=I(d,"DIV",{"data-svelte-h":!0}),G(W)!=="svelte-kvnuke"&&(W.innerHTML=j),A=B(d),D=I(d,"DIV",{"data-svelte-h":!0}),G(D)!=="svelte-qoqln4"&&(D.innerHTML=w),this.h()},h(){H(a,"class","d-flex justify-content-center svelte-8r9jj"),H(i,"class","fa fa-undo"),H(e,"class","fa fa-repeat"),H(m,"class","fa fa-undo"),H(b,"class","fa fa-repeat"),H(s,"class","justify-content-center svelte-8r9jj")},m(d,_){S(d,o,_),S(d,l,_),S(d,a,_),lt(r,a,null),S(d,c,_),S(d,s,_),k(s,x),k(x,i),k(x,f),k(x,e),k(s,y),k(s,h),k(h,m),k(h,g),k(h,b),k(s,C),k(s,R),S(d,E,_),S(d,W,_),S(d,A,_),S(d,D,_),F=!0,q||(K=[N(i,"click",t[4]),N(e,"click",t[5]),N(m,"click",t[2]),N(b,"click",t[1])],q=!0)},p:et,i(d){F||(ct(r.$$.fragment,d),F=!0)},o(d){mt(r.$$.fragment,d),F=!1},d(d){d&&(u(o),u(l),u(a),u(c),u(s),u(E),u(W),u(A),u(D)),dt(r),q=!1,ot(K)}}}function yt(t,o,n){let l,a,r=0;const c=()=>{Z(O,!0),a=X(l,O)},s=()=>{Z(O,!1),a=X(l,O)},x=e=>{function y(){const m=Math.min(e.windowWidth,e.windowHeight);e.resizeCanvas(m*.8,m*.8),O.scale=m/2*.75,a=X(e,O)}e.setup=()=>{l=e,e.createCanvas(100,100),y(),e.colorMode(e.HSB)},e.draw=()=>{e.background(50),e.translate(e.width/2,e.height/2),a.tilesInnerRing.forEach(m=>Y(e,m)),a.tilesMiddleRing.forEach(m=>Y(e,m)),a.tilesOuterRing.forEach(m=>Y(e,m)),ut(e,r,a.tilesInnerRing,a.tilesMiddleRing,a.tilesOuterRing),xt(e,r,O)},e.keyPressed=m=>{![e.LEFT_ARROW,e.RIGHT_ARROW,e.UP_ARROW,e.DOWN_ARROW].includes(e.keyCode)||m.altKey||(m.preventDefault(),e.keyCode===e.LEFT_ARROW&&n(0,r--,r),e.keyCode===e.RIGHT_ARROW&&n(0,r++,r),e.keyCode===e.UP_ARROW&&s(),e.keyCode===e.DOWN_ARROW&&c())};let h;e.touchMoved=m=>{if(m.target?.className!=="p5Canvas")return;if(m.preventDefault(),!h){h={x:e.mouseX,y:e.mouseY};return}const g=e.mouseX-h.x,b=e.mouseY-h.y,C=Math.abs(g),R=Math.abs(b);C<50&&R<50||(C>R?g<0?n(0,r--,r):n(0,r++,r):b>0?c():s(),h={x:e.mouseX,y:e.mouseY})},e.windowResized=()=>{y()}};return nt(()=>{l?.remove()}),[r,c,s,x,()=>n(0,r-=1),()=>n(0,r+=1)]}class _t extends it{constructor(o){super(),st(this,o,yt,ft,tt,{})}}export{_t as component};

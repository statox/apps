import{s as ce,f as T,g as w,h as N,d,j as F,i as D,O as tt,z as G,J as lt,o as nt,P as rt,a as B,e as ie,u as _e,c as M,E as Q,l as U,m as X,y as k,Q as ye,R as se,M as Te,S as ot,L as Ce,n as st,T as we}from"../chunks/scheduler.7d413609.js";import{S as fe,i as he,b as me,d as ve,m as pe,a as K,t as Z,e as be,g as Qe,c as Ze}from"../chunks/index.47dcfb24.js";import{e as z}from"../chunks/each.30e2cfc0.js";import{_ as at}from"../chunks/preload-helper.a4192956.js";function it(r){let e,n,t;return{c(){e=T("div"),this.h()},l(l){e=w(l,"DIV",{style:!0,class:!0}),N(e).forEach(d),this.h()},h(){F(e,"style",r[0]),F(e,"class","m-0")},m(l,o){D(l,e,o),n||(t=tt(r[1].call(null,e)),n=!0)},p(l,[o]){o&1&&F(e,"style",l[0])},i:G,o:G,d(l){l&&d(e),n=!1,t()}}}function ct(r,e){return e.forEach(([n,t])=>r[n]=t),r}function ft(r,e,n){let{target:t=void 0}=e,{sketch:l=void 0}=e,{parentDivStyle:o="display: block;"}=e,{debug:i=!1}=e,c;const u=lt(),p={ref(){u("ref",t)},instance(){u("instance",c)}};function x(a){return n(2,t=a),{destroy(){n(2,t=void 0)}}}return nt(async()=>{const a=await at(()=>import("../chunks/p5.min.4f4d612a.js").then(g=>g.p),["../chunks/p5.min.4f4d612a.js","../chunks/_commonjsHelpers.725317a4.js"],import.meta.url),{default:C}=a,S=Object.entries(a).filter(([g,I])=>I instanceof Function&&g[0]!=="_"&&g!=="default");i&&console.log("available p5 native classes",S),c=new C(g=>(g=ct(g,S),i&&console.log("p5 instance",g),window._p5Instance=g,l(g)),t),p.ref(),p.instance()}),r.$$set=a=>{"target"in a&&n(2,t=a.target),"sketch"in a&&n(3,l=a.sketch),"parentDivStyle"in a&&n(0,o=a.parentDivStyle),"debug"in a&&n(4,i=a.debug)},[o,x,t,l,i]}class ht extends fe{constructor(e){super(),he(this,e,ft,it,ce,{target:2,sketch:3,parentDivStyle:0,debug:4})}}const W=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],et=r=>{if(r<1||r>7)throw new Error(`Unkown degree ${r}`);return["I","II","III","IV","V","VI","VII"][r-1]};function dt(r){let e,n,t;return n=new ht({props:{sketch:r[0]}}),{c(){e=T("div"),me(n.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=N(e);ve(n.$$.fragment,o),o.forEach(d),this.h()},h(){F(e,"class","d-flex justify-content-center")},m(l,o){D(l,e,o),pe(n,e,null),t=!0},p:G,i(l){t||(K(n.$$.fragment,l),t=!0)},o(l){Z(n.$$.fragment,l),t=!1},d(l){l&&d(e),be(n)}}}const Me=15,ae=30;function ut(r,e,n){let t,{notesToDisplay:l}=e;const o=["E","A","D","G","B","E"],i=o.map(a=>{const C=W.indexOf(a);if(C===-1)throw new Error(`Base ${a} not found`);const m=[a];for(let S=1;S<Me;S++){const g=W[(C+S)%W.length];m.push(g)}return m}),c=a=>{const C=[80,70,60,150],m=a.height/6;for(let v=0;v<i.length;v++){const f=o[v],b=m*v+m/2;a.strokeWeight(1),a.stroke(C),a.noFill(),a.line(ae,b,a.width,b),a.noStroke(),a.fill(C),a.text(f,5,a.height-b+a.textSize()/2)}a.strokeWeight(5),a.stroke(C),a.noFill(),a.line(ae,m/2,ae,a.height-m/2),a.strokeWeight(1);const S=a.width/i[0].length;for(let v=1;v<Me;v++){const f=ae+S*v;a.line(f,m/2,f,a.height-m/2)}const g=[3,5,7,9,15];for(const v of g){let{x:f,y:b}=p({string:2,fret:v});b-=m/2,a.fill(C),a.circle(f,b,10)}const I=[1,3];for(const v of I){let{x:f,y:b}=p({string:v,fret:12});b-=m/2,a.fill(C),a.circle(f,b,10)}},u=a=>{for(let C=0;C<6;C++){const m=i[C];for(let S=0;S<m.length;S++){const g=m[S];if(!l.includes(g))continue;const I={string:C,fret:S},{x:v,y:f}=p(I);l.indexOf(g)===0?a.fill([250,80,80]):a.fill("black"),a.circle(v,f,20),a.noStroke(),a.fill("white"),a.text(g,v-a.textWidth(g)/2,f+a.textSize()/2)}}},p=a=>{const{string:C,fret:m}=a,S=t.height/6,g=S*(5-C)+S/2;if(m===0)return{x:ae,y:g};const I=t.width/i[0].length;return{x:ae+I*(m-1)+I*.5,y:g}},x=a=>{a.setup=()=>{t=a,a.createCanvas(900,300)},a.draw=()=>{a.background([200,190,170]),c(a),u(a)}};return rt(()=>{t==null||t.remove()}),r.$$set=a=>{"notesToDisplay"in a&&n(1,l=a.notesToDisplay)},[x,l]}class gt extends fe{constructor(e){super(),he(this,e,ut,dt,ce,{notesToDisplay:1})}}const Pe=[{name:"Axis progression",examples:["Let it be","Take on me","Someone like you","Don't step believin'","Can you feel the love tonight","Let it go"],chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:4}]},{name:"Other axis progression",examples:["Numb - Linkin Park","Kids - MGMT","Africa - Toto","Rivers flow in you (piano thingy)","Complicated - Avril Lavigne","Grenade","San Francisco","Save tonight"],chords:[{degree:6,minor:!0},{degree:4},{degree:1},{degree:5}]},{name:"Third axis progression",examples:["What's my age again?","Umbrella - Rihanna","Dragosta Din Tei","Boulevard of broken dreams (chorus)","Alejandro - Lady Gaga"],chords:[{degree:4},{degree:1},{degree:5},{degree:6,minor:!0}]},{name:"Andalusian cadence",examples:["Hit the road Jack","Good vibrations - The Beach boys","Happy together","Vanina"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:5}]},{name:"Aeolian vamp",examples:["Rolling in the deep","All along the watchtower","Stairway to heaven","My hear will go on","Somebody that I used to know"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:6,flat:!0},{degree:7,flat:!0}]},{name:"Doo-Woop change",examples:["I will always love you","Crocodile rock","Let's twist again","Baby - Justin Bieber"],chords:[{degree:1},{degree:6,minor:!0},{degree:4},{degree:5}]},{name:"Major scale vamp",examples:["Your body is a wonderland","All the small things - Blink 182"],chords:[{degree:1},{degree:5},{degree:4},{degree:5}]},{name:"Mixolydyan vamp",examples:["Hey Jude (Lalalalaa)","Sympathy for the devil","Sweet child o' mine","Royals - Lorde","Sweet home Alabama"],chords:[{degree:1},{degree:7,flat:!0},{degree:4},{degree:5}]},{name:"pachelbel's cannon",chords:[{degree:1},{degree:5},{degree:6,minor:!0},{degree:3,minor:!0},{degree:4},{degree:1},{degree:4},{degree:5}]},{name:"Plagal cascade",examples:["Wonderwall","Boulevard of broken dreams (couplet)","Mad world","Pumped up kids","Radioactive - Imagine Dragons"],chords:[{degree:1,minor:!0},{degree:3,flat:!0},{degree:7,flat:!0},{degree:4}]},{name:`"Can't stop" progression`,examples:["Can't stop","Cant't hold us - Mackelmore & Ryan Lewis"],chords:[{degree:1,minor:!0},{degree:7,flat:!0},{degree:5,minor:!0},{degree:6,flat:!0}]},{name:'"Closing time" progression',examples:["Closing time - Semisonic","SOS - ABBA","Believe - Cher","All star (Shrek)"],chords:[{degree:1},{degree:5},{degree:2,minor:!0},{degree:4}]},{name:'"More than a feeling" progression',examples:["More than a feeling","Mr Brightside - The Killers"],chords:[{degree:1},{degree:4},{degree:6,minor:!0},{degree:5}]},{name:"Classic blues slow change",chords:[{degree:1},{degree:1},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic blues quick change",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:4},{degree:1},{degree:5}]},{name:"Classic rock",chords:[{degree:1},{degree:4},{degree:1},{degree:1},{degree:4},{degree:4},{degree:1},{degree:1},{degree:5},{degree:5},{degree:1},{degree:1}]}];function Re(r,e,n){const t=r.slice();return t[3]=e[n],t}function $e(r,e,n){const t=r.slice();return t[6]=e[n],t}function Oe(r,e,n){const t=r.slice();return t[6]=e[n],t}function _t(r){let e,n,t="Examples:",l,o=r[3].examples.join(", ")+"",i;return{c(){e=T("span"),n=T("b"),n.textContent=t,l=B(),i=U(o)},l(c){e=w(c,"SPAN",{});var u=N(e);n=w(u,"B",{"data-svelte-h":!0}),_e(n)!=="svelte-1jvpsk3"&&(n.textContent=t),l=M(u),i=X(u,o),u.forEach(d)},m(c,u){D(c,e,u),k(e,n),k(e,l),k(e,i)},d(c){c&&d(e)}}}function je(r){let e,n=r[0](r[6])+"",t;return{c(){e=T("th"),t=U(n),this.h()},l(l){e=w(l,"TH",{class:!0});var o=N(e);t=X(o,n),o.forEach(d),this.h()},h(){F(e,"class","svelte-14ztni8")},m(l,o){D(l,e,o),k(e,t)},p:G,d(l){l&&d(e)}}}function ze(r){let e,n=r[1](r[6])+"",t;return{c(){e=T("td"),t=U(n),this.h()},l(l){e=w(l,"TD",{class:!0});var o=N(e);t=X(o,n),o.forEach(d),this.h()},h(){F(e,"class","svelte-14ztni8")},m(l,o){D(l,e,o),k(e,t)},p:G,d(l){l&&d(e)}}}function He(r){let e,n,t=r[3].name+"",l,o,i,c,u,p,x,a,C,m=r[3].examples&&_t(r),S=z(r[3].chords),g=[];for(let f=0;f<S.length;f+=1)g[f]=je(Oe(r,S,f));let I=z(r[3].chords),v=[];for(let f=0;f<I.length;f+=1)v[f]=ze($e(r,I,f));return{c(){e=T("div"),n=T("h4"),l=U(t),o=B(),m&&m.c(),i=B(),c=T("table"),u=T("tr");for(let f=0;f<g.length;f+=1)g[f].c();p=B(),x=T("tr");for(let f=0;f<v.length;f+=1)v[f].c();a=B(),C=T("br")},l(f){e=w(f,"DIV",{});var b=N(e);n=w(b,"H4",{});var _=N(n);l=X(_,t),_.forEach(d),o=M(b),m&&m.l(b),i=M(b),c=w(b,"TABLE",{});var P=N(c);u=w(P,"TR",{});var ee=N(u);for(let V=0;V<g.length;V+=1)g[V].l(ee);ee.forEach(d),p=M(P),x=w(P,"TR",{});var J=N(x);for(let V=0;V<v.length;V+=1)v[V].l(J);J.forEach(d),P.forEach(d),b.forEach(d),a=M(f),C=w(f,"BR",{})},m(f,b){D(f,e,b),k(e,n),k(n,l),k(e,o),m&&m.m(e,null),k(e,i),k(e,c),k(c,u);for(let _=0;_<g.length;_+=1)g[_]&&g[_].m(u,null);k(c,p),k(c,x);for(let _=0;_<v.length;_+=1)v[_]&&v[_].m(x,null);D(f,a,b),D(f,C,b)},p(f,b){if(b&1){S=z(f[3].chords);let _;for(_=0;_<S.length;_+=1){const P=Oe(f,S,_);g[_]?g[_].p(P,b):(g[_]=je(P),g[_].c(),g[_].m(u,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=S.length}if(b&2){I=z(f[3].chords);let _;for(_=0;_<I.length;_+=1){const P=$e(f,I,_);v[_]?v[_].p(P,b):(v[_]=ze(P),v[_].c(),v[_].m(x,null))}for(;_<v.length;_+=1)v[_].d(1);v.length=I.length}},d(f){f&&(d(e),d(a),d(C)),m&&m.d(),Q(g,f),Q(v,f)}}}function mt(r){let e,n="Progressions",t,l,o=z(Pe),i=[];for(let c=0;c<o.length;c+=1)i[c]=He(Re(r,o,c));return{c(){e=T("h3"),e.textContent=n,t=B();for(let c=0;c<i.length;c+=1)i[c].c();l=ie()},l(c){e=w(c,"H3",{"data-svelte-h":!0}),_e(e)!=="svelte-xukbl8"&&(e.textContent=n),t=M(c);for(let u=0;u<i.length;u+=1)i[u].l(c);l=ie()},m(c,u){D(c,e,u),D(c,t,u);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(c,u);D(c,l,u)},p(c,[u]){if(u&3){o=z(Pe);let p;for(p=0;p<o.length;p+=1){const x=Re(c,o,p);i[p]?i[p].p(x,u):(i[p]=He(x),i[p].c(),i[p].m(l.parentNode,l))}for(;p<i.length;p+=1)i[p].d(1);i.length=o.length}},i:G,o:G,d(c){c&&(d(e),d(t),d(l)),Q(i,c)}}}function vt(r,e,n){let{scaleNotes:t=[]}=e;const l=i=>{let c=et(i.degree);return i.minor&&(c=c.toLowerCase()),i.flat&&(c="b"+c),c},o=i=>{const c=t[i.degree-1];let u=W.indexOf(c);i.flat&&(u--,u===-1&&(u=W.length-1));let p=W[u];return i.minor&&(p+="m"),p};return r.$$set=i=>{"scaleNotes"in i&&n(2,t=i.scaleNotes)},[l,o,t]}class pt extends fe{constructor(e){super(),he(this,e,vt,mt,ce,{scaleNotes:2})}}function Fe(r,e,n){const t=r.slice();return t[10]=e[n],t}function Ge(r,e,n){const t=r.slice();return t[13]=e[n],t[15]=n,t}function Ve(r,e,n){const t=r.slice();return t[2]=e[n],t}function We(r,e,n){const t=r.slice();return t[1]=e[n],t}function bt(r,e,n){const t=r.slice();return t[10]=e[n],t}function kt(r){let e,n,t;return{c(){e=T("option"),n=U(r[10]),t=B(),this.h()},l(l){e=w(l,"OPTION",{});var o=N(e);n=X(o,r[10]),t=M(o),o.forEach(d),this.h()},h(){e.__value=r[10],Ce(e,e.__value)},m(l,o){D(l,e,o),k(e,n),k(e,t)},p:G,d(l){l&&d(e)}}}function Je(r){let e,n=r[1].name+"",t,l;return{c(){e=T("option"),t=U(n),l=B(),this.h()},l(o){e=w(o,"OPTION",{});var i=N(e);t=X(i,n),l=M(i),i.forEach(d),this.h()},h(){e.__value=r[1],Ce(e,e.__value)},m(o,i){D(o,e,i),k(e,t),k(e,l)},p:G,d(o){o&&d(e)}}}function qe(r){let e,n=r[2].name+"",t,l;return{c(){e=T("option"),t=U(n),l=B(),this.h()},l(o){e=w(o,"OPTION",{});var i=N(e);t=X(i,n),l=M(i),i.forEach(d),this.h()},h(){e.__value=r[2],Ce(e,e.__value)},m(o,i){D(o,e,i),k(e,t),k(e,l)},p:G,d(o){o&&d(e)}}}function Ke(r){let e,n=et(r[15]+1)+"",t;return{c(){e=T("th"),t=U(n),this.h()},l(l){e=w(l,"TH",{class:!0});var o=N(e);t=X(o,n),o.forEach(d),this.h()},h(){F(e,"class","svelte-14ztni8")},m(l,o){D(l,e,o),k(e,t)},p:G,d(l){l&&d(e)}}}function Ue(r){let e,n=r[10]+"",t;return{c(){e=T("td"),t=U(n),this.h()},l(l){e=w(l,"TD",{class:!0});var o=N(e);t=X(o,n),o.forEach(d),this.h()},h(){F(e,"class","svelte-14ztni8")},m(l,o){D(l,e,o),k(e,t)},p(l,o){o&8&&n!==(n=l[10]+"")&&st(t,n)},d(l){l&&d(e)}}}function Xe(r){let e=r[3],n,t,l=Ye(r);return{c(){l.c(),n=ie()},l(o){l.l(o),n=ie()},m(o,i){l.m(o,i),D(o,n,i),t=!0},p(o,i){i&8&&ce(e,e=o[3])?(Qe(),Z(l,1,1,G),Ze(),l=Ye(o),l.c(),K(l,1),l.m(n.parentNode,n)):l.p(o,i)},i(o){t||(K(l),t=!0)},o(o){Z(l),t=!1},d(o){o&&d(n),l.d(o)}}}function Ye(r){let e,n;return e=new pt({props:{scaleNotes:r[3]}}),{c(){me(e.$$.fragment)},l(t){ve(e.$$.fragment,t)},m(t,l){pe(e,t,l),n=!0},p(t,l){const o={};l&8&&(o.scaleNotes=t[3]),e.$set(o)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){be(e,t)}}}function Et(r){let e,n="Scales",t,l,o,i='<th class="svelte-14ztni8"><label for="tonicInput">Tonic</label></th> <th class="svelte-14ztni8"><label for="scaleInput">Scale</label></th> <th class="svelte-14ztni8"><label for="modeInput">mode</label></th>',c,u,p,x,a,C,m,S,g,I,v,f,b,_,P,ee,J,V,Y,de,ke=["Major","Natural minor"].includes(r[1].name),te,ue,Ee,Se,Ie=z(W),q=[];for(let s=0;s<Ie.length;s+=1)q[s]=kt(bt(r,Ie,s));let le=z(r[4]),R=[];for(let s=0;s<le.length;s+=1)R[s]=Je(We(r,le,s));let ne=z(r[5]),$=[];for(let s=0;s<ne.length;s+=1)$[s]=qe(Ve(r,ne,s));let re=z(r[3]),O=[];for(let s=0;s<re.length;s+=1)O[s]=Ke(Ge(r,re,s));let oe=z(r[3]),j=[];for(let s=0;s<oe.length;s+=1)j[s]=Ue(Fe(r,oe,s));Y=new gt({props:{notesToDisplay:r[3]}});let A=ke&&Xe(r);return{c(){e=T("h2"),e.textContent=n,t=B(),l=T("table"),o=T("tr"),o.innerHTML=i,c=B(),u=T("tr"),p=T("td"),x=T("select");for(let s=0;s<q.length;s+=1)q[s].c();a=B(),C=T("td"),m=T("select");for(let s=0;s<R.length;s+=1)R[s].c();S=B(),g=T("td"),I=T("select");for(let s=0;s<$.length;s+=1)$[s].c();v=B(),f=T("br"),b=B(),_=T("table"),P=T("tr");for(let s=0;s<O.length;s+=1)O[s].c();ee=B(),J=T("tr");for(let s=0;s<j.length;s+=1)j[s].c();V=B(),me(Y.$$.fragment),de=B(),A&&A.c(),te=ie(),this.h()},l(s){e=w(s,"H2",{"data-svelte-h":!0}),_e(e)!=="svelte-b2sc71"&&(e.textContent=n),t=M(s),l=w(s,"TABLE",{});var y=N(l);o=w(y,"TR",{"data-svelte-h":!0}),_e(o)!=="svelte-allvrg"&&(o.innerHTML=i),c=M(y),u=w(y,"TR",{});var E=N(u);p=w(E,"TD",{class:!0});var h=N(p);x=w(h,"SELECT",{id:!0});var H=N(x);for(let L=0;L<q.length;L+=1)q[L].l(H);H.forEach(d),h.forEach(d),a=M(E),C=w(E,"TD",{class:!0});var De=N(C);m=w(De,"SELECT",{id:!0});var xe=N(m);for(let L=0;L<R.length;L+=1)R[L].l(xe);xe.forEach(d),De.forEach(d),S=M(E),g=w(E,"TD",{class:!0});var Ne=N(g);I=w(Ne,"SELECT",{id:!0});var Ae=N(I);for(let L=0;L<$.length;L+=1)$[L].l(Ae);Ae.forEach(d),Ne.forEach(d),E.forEach(d),y.forEach(d),v=M(s),f=w(s,"BR",{}),b=M(s),_=w(s,"TABLE",{});var ge=N(_);P=w(ge,"TR",{});var Le=N(P);for(let L=0;L<O.length;L+=1)O[L].l(Le);Le.forEach(d),ee=M(ge),J=w(ge,"TR",{});var Be=N(J);for(let L=0;L<j.length;L+=1)j[L].l(Be);Be.forEach(d),ge.forEach(d),V=M(s),ve(Y.$$.fragment,s),de=M(s),A&&A.l(s),te=ie(),this.h()},h(){F(x,"id","tonicInput"),r[0]===void 0&&ye(()=>r[6].call(x)),F(p,"class","svelte-14ztni8"),F(m,"id","scaleInput"),r[1]===void 0&&ye(()=>r[7].call(m)),F(C,"class","svelte-14ztni8"),F(I,"id","modeInput"),r[2]===void 0&&ye(()=>r[8].call(I)),F(g,"class","svelte-14ztni8")},m(s,y){D(s,e,y),D(s,t,y),D(s,l,y),k(l,o),k(l,c),k(l,u),k(u,p),k(p,x);for(let E=0;E<q.length;E+=1)q[E]&&q[E].m(x,null);se(x,r[0],!0),k(u,a),k(u,C),k(C,m);for(let E=0;E<R.length;E+=1)R[E]&&R[E].m(m,null);se(m,r[1],!0),k(u,S),k(u,g),k(g,I);for(let E=0;E<$.length;E+=1)$[E]&&$[E].m(I,null);se(I,r[2],!0),D(s,v,y),D(s,f,y),D(s,b,y),D(s,_,y),k(_,P);for(let E=0;E<O.length;E+=1)O[E]&&O[E].m(P,null);k(_,ee),k(_,J);for(let E=0;E<j.length;E+=1)j[E]&&j[E].m(J,null);D(s,V,y),pe(Y,s,y),D(s,de,y),A&&A.m(s,y),D(s,te,y),ue=!0,Ee||(Se=[Te(x,"change",r[6]),Te(m,"change",r[7]),Te(I,"change",r[8])],Ee=!0)},p(s,[y]){if(y&1&&se(x,s[0]),y&16){le=z(s[4]);let h;for(h=0;h<le.length;h+=1){const H=We(s,le,h);R[h]?R[h].p(H,y):(R[h]=Je(H),R[h].c(),R[h].m(m,null))}for(;h<R.length;h+=1)R[h].d(1);R.length=le.length}if(y&18&&se(m,s[1]),y&32){ne=z(s[5]);let h;for(h=0;h<ne.length;h+=1){const H=Ve(s,ne,h);$[h]?$[h].p(H,y):($[h]=qe(H),$[h].c(),$[h].m(I,null))}for(;h<$.length;h+=1)$[h].d(1);$.length=ne.length}if(y&36&&se(I,s[2]),y&8){re=z(s[3]);let h;for(h=0;h<re.length;h+=1){const H=Ge(s,re,h);O[h]?O[h].p(H,y):(O[h]=Ke(H),O[h].c(),O[h].m(P,null))}for(;h<O.length;h+=1)O[h].d(1);O.length=re.length}if(y&8){oe=z(s[3]);let h;for(h=0;h<oe.length;h+=1){const H=Fe(s,oe,h);j[h]?j[h].p(H,y):(j[h]=Ue(H),j[h].c(),j[h].m(J,null))}for(;h<j.length;h+=1)j[h].d(1);j.length=oe.length}const E={};y&8&&(E.notesToDisplay=s[3]),Y.$set(E),y&2&&(ke=["Major","Natural minor"].includes(s[1].name)),ke?A?(A.p(s,y),y&2&&K(A,1)):(A=Xe(s),A.c(),K(A,1),A.m(te.parentNode,te)):A&&(Qe(),Z(A,1,1,()=>{A=null}),Ze())},i(s){ue||(K(Y.$$.fragment,s),K(A),ue=!0)},o(s){Z(Y.$$.fragment,s),Z(A),ue=!1},d(s){s&&(d(e),d(t),d(l),d(v),d(f),d(b),d(_),d(V),d(de),d(te)),Q(q,s),Q(R,s),Q($,s),Q(O,s),Q(j,s),be(Y,s),A&&A.d(s),Ee=!1,ot(Se)}}}function yt(r,e,n){const t=[{name:"Major",intervals:[2,2,1,2,2,2,1]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2]},{name:"Pentatonic major",intervals:[2,2,3,2,3]},{name:"Pentatonic minor",intervals:[3,2,2,3,2]}],l=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let o="C",i=t[0],c=l[0],u=[];const p=(m,S,g)=>{const{intervals:I}=S;n(3,u=[m]);const v=W.indexOf(m);if(v===-1)throw new Error(`Tonic ${m} not found`);let f=v;for(const b of I)f=(f+b)%W.length,u.push(W[f]);u.pop();for(let b=1;b<g.degree;b++)u.push(u.shift())};function x(){o=we(this),n(0,o)}function a(){i=we(this),n(1,i),n(4,t)}function C(){c=we(this),n(2,c),n(5,l)}return r.$$.update=()=>{r.$$.dirty&7&&p(o,i,c)},[o,i,c,u,t,l,x,a,C]}class Tt extends fe{constructor(e){super(),he(this,e,yt,Et,ce,{})}}function wt(r){let e,n;return e=new Tt({}),{c(){me(e.$$.fragment)},l(t){ve(e.$$.fragment,t)},m(t,l){pe(e,t,l),n=!0},p:G,i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){Z(e.$$.fragment,t),n=!1},d(t){be(e,t)}}}class xt extends fe{constructor(e){super(),he(this,e,null,wt,ce,{})}}export{xt as component};

import{s as K,f as h,a as $,l as ct,g as d,h as B,N as P,c as N,m as ht,d as b,j as v,k as U,E as F,i as Z,F as i,G as L,n as Tt,r as q,H as mt,P as lt,Q as ut,o as xt,I as Bt,e as gt}from"../chunks/scheduler.vqADxFSB.js";import{S as G,i as Y,b as J,d as X,m as tt,a as et,t as nt,e as st}from"../chunks/index.Q4c_4ZiM.js";import{c as Ct,o as kt}from"../chunks/store.BvOkAtnk.js";import{P as It}from"../chunks/P5.QuiWw2fC.js";import{T as yt}from"../chunks/TapTempo.Oc7is1s8.js";class wt{audioContext;notesInQueue=[];currentBeatInBar;beatsPerBar;currentSubdivision;subdivisionsInBeat;tempo;lookahead;scheduleAheadTime;nextNoteTime;isRunning;intervalID;onBeatStart;onBeatEnd;constructor(t=80){this.audioContext=null,this.notesInQueue=[],this.currentBeatInBar=0,this.currentSubdivision=0,this.subdivisionsInBeat=1,this.beatsPerBar=4,this.tempo=t,this.lookahead=25,this.scheduleAheadTime=.1,this.nextNoteTime=0,this.isRunning=!1,this.intervalID=null}nextNote(){var t=60/this.subdivisionsInBeat/this.tempo;this.nextNoteTime+=t,this.currentSubdivision++,this.currentSubdivision>=this.subdivisionsInBeat&&(this.currentBeatInBar++,this.currentSubdivision=0),this.currentBeatInBar>=this.beatsPerBar&&(this.currentBeatInBar=0)}scheduleNote(t,n,e){if(!this.audioContext)return;this.notesInQueue.push({note:t,time:e});const s=this.audioContext.createOscillator(),r=this.audioContext.createGain(),a=1e3,c=400,m=200;n!==0?s.frequency.value=m:t%this.beatsPerBar===0?s.frequency.value=a:s.frequency.value=c,r.gain.value=1,r.gain.exponentialRampToValueAtTime(1,e+.001),r.gain.exponentialRampToValueAtTime(.001,e+.02),s.connect(r),r.connect(this.audioContext.destination);const l=this.audioContext.createConstantSource();l.onended=()=>{this.onBeatStart&&this.onBeatStart(t,n),s.start(),s.stop(e+.03),s.onended=()=>{this.onBeatEnd&&this.onBeatEnd()}},l.start(e),l.stop(this.audioContext.currentTime+1e-4)}scheduler(){if(this.audioContext)for(;this.nextNoteTime<this.audioContext.currentTime+this.scheduleAheadTime;)this.scheduleNote(this.currentBeatInBar,this.currentSubdivision,this.nextNoteTime),this.nextNote()}start(){this.isRunning||(this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.isRunning=!0,this.currentBeatInBar=0,this.currentSubdivision=0,this.nextNoteTime=this.audioContext.currentTime+.05,this.intervalID=setInterval(()=>this.scheduler(),this.lookahead))}stop(){this.isRunning=!1,this.intervalID&&clearInterval(this.intervalID)}startStop(){this.isRunning?this.stop():this.start()}}function Mt(o){let t,n,e,s="<h4>Beats in bar</h4>",r,a,c,m="-1",l,f,w=o[0].beatsPerBar+"",M,u,g,T="+1",V,E,_,C,k,D="<h4>Subdivisions in beat</h4>",I,x,p,y='<svg width="15" height="15" fill="blue" xmlns="http://www.w3.org/2000/svg" style="width: 15px; height: auto;"><path d="M 4.3 0 v 9.6 A 2.9 2.9 0 0 0 0 12.1 A 3 3 0 0 0 3 15 c 1.5 0 2.8 -1.3 2.8 -2.9 V 3 V 0 H 4.3 Z"></path></svg>',O,S,j='<svg width="15" height="15" fill="blue" xmlns="http://www.w3.org/2000/svg" style="width: 15px; height: auto;"><path d="M4.3 0v9.6A2.9 2.9 0 0 0 0 12.1 3 3 0 0 0 3 15c1.5 0 2.8-1.3 2.8-2.9V3h7.7v6.6a2.9 2.9 0 0 0-4.3 2.5 2.9 2.9 0 0 0 5.8 0V0H4.3Z"></path></svg>',z,H,ot='<svg width="24" height="21" fill="blue" xmlns="http://www.w3.org/2000/svg" style="width: 24px; height: auto; top: -3px;"><path clip-rule="evenodd" d="M4.3 15.6V6H24v12.1a3 3 0 0 1-3 2.9 2.9 2.9 0 0 1-2.8-2.9 2.9 2.9 0 0 1 4.3-2.5V9H15v9.1a2.9 2.9 0 0 1-3 2.9 3 3 0 0 1-3-2.9 2.9 2.9 0 0 1 3-2.8c.5 0 1 0 1.3.3V9H5.8v9.1C5.8 19.7 4.5 21 3 21a3 3 0 0 1-3-2.9 2.9 2.9 0 0 1 4.3-2.5Z"></path><path d="M12.6 2.2 13.9.5V0h-3.1v.4h2.5l-1.4 1.7v.4h.4c.9 0 1.3.4 1.3 1s-.4 1-1.2 1c-.7 0-1.3-.3-1.6-.6l-.2.4c.4.4 1 .6 1.8.6 1.1 0 1.7-.6 1.7-1.4 0-.8-.5-1.3-1.5-1.4Z"></path></svg>',dt,W,vt='<svg width="27" height="13" fill="blue" xmlns="http://www.w3.org/2000/svg" style="width: 27px; height: auto;"><path clip-rule="evenodd" d="M3.5 0v7.9a2 2 0 0 0-1.1-.3C1 7.6 0 8.6 0 9.9c0 1.3 1 2.4 2.4 2.4 1.3 0 2.3-1 2.3-2.4V3.4H11V8a2 2 0 0 0-1.1-.3 2.3 2.3 0 1 0 0 4.7c1.3 0 2.4-1 2.4-2.4V3.4h6.1V8a2.4 2.4 0 0 0-1-.3c-1.4 0-2.5 1-2.5 2.3 0 1.3 1.1 2.4 2.4 2.4 1.3 0 2.4-1 2.4-2.4V3.4h6.2V8l-1.2-.3c-1.3 0-2.3 1-2.3 2.3a2.3 2.3 0 1 0 4.7 0V0H3.5Zm7.4 2.7H4.7V1.5H11v1.2Zm7.4 0h-6.1V1.5h6.1v1.2Zm1.3 0h6.2V1.5h-6.2v1.2Z"></path></svg>',ft,pt;return{c(){t=h("div"),n=h("div"),e=h("label"),e.innerHTML=s,r=$(),a=h("div"),c=h("button"),c.textContent=m,l=$(),f=h("span"),M=ct(w),u=$(),g=h("button"),g.textContent=T,V=$(),E=h("br"),_=$(),C=h("div"),k=h("label"),k.innerHTML=D,I=$(),x=h("div"),p=h("button"),p.innerHTML=y,O=$(),S=h("button"),S.innerHTML=j,z=$(),H=h("button"),H.innerHTML=ot,dt=$(),W=h("button"),W.innerHTML=vt,this.h()},l(R){t=d(R,"DIV",{class:!0});var A=B(t);n=d(A,"DIV",{class:!0});var at=B(n);e=d(at,"LABEL",{for:!0,"data-svelte-h":!0}),P(e)!=="svelte-me1f1h"&&(e.innerHTML=s),r=N(at),a=d(at,"DIV",{class:!0});var it=B(a);c=d(it,"BUTTON",{"data-svelte-h":!0}),P(c)!=="svelte-1d4n1zi"&&(c.textContent=m),l=N(it),f=d(it,"SPAN",{style:!0});var bt=B(f);M=ht(bt,w),bt.forEach(b),u=N(it),g=d(it,"BUTTON",{"data-svelte-h":!0}),P(g)!=="svelte-g2gkw2"&&(g.textContent=T),it.forEach(b),at.forEach(b),V=N(A),E=d(A,"BR",{}),_=N(A),C=d(A,"DIV",{class:!0});var rt=B(C);k=d(rt,"LABEL",{for:!0,"data-svelte-h":!0}),P(k)!=="svelte-x5t5k1"&&(k.innerHTML=D),I=N(rt),x=d(rt,"DIV",{class:!0});var Q=B(x);p=d(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-7czod"&&(p.innerHTML=y),O=N(Q),S=d(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),P(S)!=="svelte-1p2rqi1"&&(S.innerHTML=j),z=N(Q),H=d(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),P(H)!=="svelte-72e2df"&&(H.innerHTML=ot),dt=N(Q),W=d(Q,"BUTTON",{class:!0,"data-svelte-h":!0}),P(W)!=="svelte-rjuw0z"&&(W.innerHTML=vt),Q.forEach(b),rt.forEach(b),A.forEach(b),this.h()},h(){v(e,"for","beatsInBar"),U(f,"font-size","large"),U(f,"margin-left","1em"),U(f,"margin-right","1em"),v(a,"class","subdivisions-container svelte-14nipte"),v(n,"class","controls-sub-container svelte-14nipte"),v(k,"for","subdivisionsInBeat"),v(p,"class","svelte-14nipte"),F(p,"selected",o[0].subdivisionsInBeat===1),v(S,"class","svelte-14nipte"),F(S,"selected",o[0].subdivisionsInBeat===2),v(H,"class","svelte-14nipte"),F(H,"selected",o[0].subdivisionsInBeat===3),v(W,"class","svelte-14nipte"),F(W,"selected",o[0].subdivisionsInBeat===4),v(x,"class","subdivisions-container svelte-14nipte"),v(C,"class","controls-sub-container svelte-14nipte"),v(t,"class","controls-container svelte-14nipte")},m(R,A){Z(R,t,A),i(t,n),i(n,e),i(n,r),i(n,a),i(a,c),i(a,l),i(a,f),i(f,M),i(a,u),i(a,g),i(t,V),i(t,E),i(t,_),i(t,C),i(C,k),i(C,I),i(C,x),i(x,p),i(x,O),i(x,S),i(x,z),i(x,H),i(x,dt),i(x,W),ft||(pt=[L(c,"click",o[1]),L(g,"click",o[2]),L(p,"click",o[3]),L(S,"click",o[4]),L(H,"click",o[5]),L(W,"click",o[6])],ft=!0)},p(R,[A]){A&1&&w!==(w=R[0].beatsPerBar+"")&&Tt(M,w),A&1&&F(p,"selected",R[0].subdivisionsInBeat===1),A&1&&F(S,"selected",R[0].subdivisionsInBeat===2),A&1&&F(H,"selected",R[0].subdivisionsInBeat===3),A&1&&F(W,"selected",R[0].subdivisionsInBeat===4)},i:q,o:q,d(R){R&&b(t),ft=!1,mt(pt)}}}function Vt(o,t,n){let{metronome:e}=t;const s=()=>n(0,e.beatsPerBar=Math.max(e.beatsPerBar-1,1),e),r=()=>n(0,e.beatsPerBar=Math.min(e.beatsPerBar+1,10),e),a=()=>n(0,e.subdivisionsInBeat=1,e),c=()=>n(0,e.subdivisionsInBeat=2,e),m=()=>n(0,e.subdivisionsInBeat=3,e),l=()=>n(0,e.subdivisionsInBeat=4,e);return o.$$set=f=>{"metronome"in f&&n(0,e=f.metronome)},[e,s,r,a,c,m,l]}class Et extends G{constructor(t){super(),Y(this,t,Vt,Mt,K,{metronome:0})}}function $t(o){let t,n,e,s="-5",r,a,c="-1",m,l,f,w,M,u,g,T,V="+1",E,_,C="+5",k,D;return{c(){t=h("div"),n=h("div"),e=h("button"),e.textContent=s,r=$(),a=h("button"),a.textContent=c,m=$(),l=h("div"),f=h("input"),M=ct(" BPM"),u=$(),g=h("div"),T=h("button"),T.textContent=V,E=$(),_=h("button"),_.textContent=C,this.h()},l(I){t=d(I,"DIV",{class:!0});var x=B(t);n=d(x,"DIV",{class:!0});var p=B(n);e=d(p,"BUTTON",{"data-svelte-h":!0}),P(e)!=="svelte-1ayjxgi"&&(e.textContent=s),r=N(p),a=d(p,"BUTTON",{"data-svelte-h":!0}),P(a)!=="svelte-1ri3s3e"&&(a.textContent=c),p.forEach(b),m=N(x),l=d(x,"DIV",{class:!0,style:!0});var y=B(l);f=d(y,"INPUT",{style:!0,type:!0,min:!0,max:!0}),M=ht(y," BPM"),y.forEach(b),u=N(x),g=d(x,"DIV",{class:!0});var O=B(g);T=d(O,"BUTTON",{"data-svelte-h":!0}),P(T)!=="svelte-1tvviti"&&(T.textContent=V),E=N(O),_=d(O,"BUTTON",{"data-svelte-h":!0}),P(_)!=="svelte-1vk0846"&&(_.textContent=C),O.forEach(b),x.forEach(b),this.h()},h(){v(n,"class","tempo-less svelte-oae4co"),U(f,"font-size","x-large"),U(f,"margin-right","0.1em"),v(f,"type","number"),v(f,"min","1"),v(f,"max","400"),f.value=w=o[0].tempo,v(l,"class","tempo-value svelte-oae4co"),U(l,"font-size","x-large"),v(g,"class","tempo-more svelte-oae4co"),v(t,"class","tempo-container svelte-oae4co")},m(I,x){Z(I,t,x),i(t,n),i(n,e),i(n,r),i(n,a),i(t,m),i(t,l),i(l,f),i(l,M),i(t,u),i(t,g),i(g,T),i(g,E),i(g,_),k||(D=[L(e,"click",o[2]),L(a,"click",o[3]),L(f,"change",o[1]),L(T,"click",o[4]),L(_,"click",o[5])],k=!0)},p(I,[x]){x&1&&w!==(w=I[0].tempo)&&f.value!==w&&(f.value=w)},i:q,o:q,d(I){I&&b(t),k=!1,mt(D)}}}function Nt(o,t,n){let{metronome:e}=t;const s=l=>{if(!l||!l.target)return;const f=l.target,w=Number(f.value);!w||w<1||n(0,e.tempo=w,e)},r=()=>n(0,e.tempo=Number(e.tempo)-5,e),a=()=>n(0,e.tempo=Number(e.tempo)-1,e),c=()=>n(0,e.tempo=Number(e.tempo)+1,e),m=()=>n(0,e.tempo=Number(e.tempo)+5,e);return o.$$set=l=>{"metronome"in l&&n(0,e=l.metronome)},[e,s,r,a,c,m]}class Pt extends G{constructor(t){super(),Y(this,t,Nt,$t,K,{metronome:0})}}function St(o){let t,n;return{c(){t=lt("svg"),n=lt("path"),this.h()},l(e){t=ut(e,"svg",{width:!0,height:!0,fill:!0,xmlns:!0,style:!0});var s=B(t);n=ut(s,"path",{d:!0}),B(n).forEach(b),s.forEach(b),this.h()},h(){v(n,"d","M 0 0 V 20 L 17 10"),v(t,"width","20"),v(t,"height","20"),v(t,"fill","blue"),v(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"width","20px"),U(t,"height","auto")},m(e,s){Z(e,t,s),i(t,n)},d(e){e&&b(t)}}}function Ht(o){let t,n;return{c(){t=lt("svg"),n=lt("path"),this.h()},l(e){t=ut(e,"svg",{width:!0,height:!0,fill:!0,xmlns:!0,style:!0});var s=B(t);n=ut(s,"path",{d:!0}),B(n).forEach(b),s.forEach(b),this.h()},h(){v(n,"d","M 0 0 V 20 L 6 20 L 6 0 L 0 0 M 9 0 V 20 H 15 V 0 H 9"),v(t,"width","20"),v(t,"height","20"),v(t,"fill","blue"),v(t,"xmlns","http://www.w3.org/2000/svg"),U(t,"width","20px"),U(t,"height","auto")},m(e,s){Z(e,t,s),i(t,n)},d(e){e&&b(t)}}}function Lt(o){let t,n,e,s;function r(m,l){return m[0].isRunning?Ht:St}let a=r(o),c=a(o);return{c(){t=h("div"),n=h("button"),c.c(),this.h()},l(m){t=d(m,"DIV",{class:!0});var l=B(t);n=d(l,"BUTTON",{style:!0});var f=B(n);c.l(f),f.forEach(b),l.forEach(b),this.h()},h(){U(n,"min-width","300px"),v(t,"class","controls-container svelte-1jo8tk4")},m(m,l){Z(m,t,l),i(t,n),c.m(n,null),e||(s=[L(window,"keydown",o[2]),L(n,"click",o[1])],e=!0)},p(m,[l]){a!==(a=r(m))&&(c.d(1),c=a(m),c&&(c.c(),c.m(n,null)))},i:q,o:q,d(m){m&&b(t),c.d(),e=!1,mt(s)}}}function Dt(o,t,n){let{metronome:e}=t;const s=()=>{e.startStop(),n(0,e)},r=a=>{const c=" ";if([c].includes(a.key)&&(a.preventDefault(),a.key===c)){s();return}};return o.$$set=a=>{"metronome"in a&&n(0,e=a.metronome)},[e,s,r]}class Ot extends G{constructor(t){super(),Y(this,t,Dt,Lt,K,{metronome:0})}}function At(o){let t,n,e;return n=new It({props:{sketch:o[0]}}),{c(){t=h("div"),J(n.$$.fragment),this.h()},l(s){t=d(s,"DIV",{id:!0,class:!0});var r=B(t);X(n.$$.fragment,r),r.forEach(b),this.h()},h(){v(t,"id","canvas-container"),v(t,"class","d-flex justify-content-center")},m(s,r){Z(s,t,r),tt(n,t,null),e=!0},p:q,i(s){e||(et(n.$$.fragment,s),e=!0)},o(s){nt(n.$$.fragment,s),e=!1},d(s){s&&b(t),st(n)}}}function Ut(o,t,n){let{metronome:e}=t,s=!1,r=0,a=0;const c=(u,g)=>{s=!0,r=u,a=g},m=()=>{s=!1};let l,f="white",w="white";const M=u=>{u.setup=()=>{l=u,u.createCanvas(600,300),u.textSize(40)},u.draw=()=>{const g=document.getElementById("canvas-container");if(g){const _=g?.clientWidth||600;u.width!==_&&u.resizeCanvas(_,Math.max(_/3,100))}u.clear(),u.stroke(f);const T=Math.min(u.width/e.beatsPerBar,u.height),V=u.height/e.subdivisionsInBeat;for(let _=0;_<e.beatsPerBar;_++){_===r?u.strokeWeight(5):u.strokeWeight(1),u.noFill(),u.circle(_*T+T/2,u.height/2,T*.9),u.strokeWeight(1);for(let C=0;C<e.subdivisionsInBeat;C++)s&&_===r&&C===a?u.fill(f):u.noFill(),u.circle(_*T+T/2,C*V+V/2,T/e.subdivisionsInBeat*.9)}s?u.fill(w):u.fill(f),u.fill(f);const E=(r+1).toString();u.text(E,r*T+T/2-u.textWidth(E)/2,u.height/2+u.textSize()/2)}};return xt(()=>{const u=getComputedStyle(document.body);f=u.getPropertyValue("--nc-tx-3"),w=u.getPropertyValue("--nc-tx-2"),n(1,e.onBeatStart=c,e),n(1,e.onBeatEnd=m,e)}),Bt(()=>{l?.remove()}),o.$$set=u=>{"metronome"in u&&n(1,e=u.metronome)},[M,e]}class qt extends G{constructor(t){super(),Y(this,t,Ut,At,K,{metronome:1})}}function zt(o){let t,n,e="Tap",s,r;return{c(){t=h("div"),n=h("button"),n.textContent=e,this.h()},l(a){t=d(a,"DIV",{class:!0});var c=B(t);n=d(c,"BUTTON",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-1ln40k6"&&(n.textContent=e),c.forEach(b),this.h()},h(){v(n,"class","svelte-1gwle9f"),F(n,"taped",o[0]),v(t,"class","controls-container svelte-1gwle9f")},m(a,c){Z(a,t,c),i(t,n),s||(r=L(n,"click",o[1]),s=!0)},p(a,[c]){c&1&&F(n,"taped",a[0])},i:q,o:q,d(a){a&&b(t),s=!1,r()}}}function Rt(o,t,n){let{onNewBPM:e}=t,s=new yt,r=!1;const a=()=>{s.addBeat(),n(0,r=!0),setTimeout(()=>n(0,r=!1),100),s.bpm>0&&e(Math.ceil(s.bpm))};return o.$$set=c=>{"onNewBPM"in c&&n(2,e=c.onNewBPM)},[r,a,e]}class Wt extends G{constructor(t){super(),Y(this,t,Rt,zt,K,{onNewBPM:2})}}function _t(o){let t,n,e,s,r,a="Close",c,m,l=`This is a simple metronome:
                <ul><li>Use the play/pause button or the space bar to start and stop the metronome</li> <li>You can change the tempo by:</li> <ul><li>Entering a number directly in the input</li> <li>Using the -5, -1, +1 and +5 buttons</li> <li>Taping a tempo on the tap button. When taping the tempo each tap counts
                            for a subdivision if subdivisions are enabled. Stop taping for approx. 3
                            seconds to restart the tap counter.</li></ul> <li>The &quot;Beats in bar&quot; setting change the number of beats counted by the
                        metronome. The first beat is accented with a higher frequency tone.</li> <li>The &quot;Subdivisions in beat&quot; setting allow to change how the beats are
                        divided. The subdivisions after the first one are played with a lower
                        frequency tone.</li> <li>The visualization at the bottom follow the beats and their subdivisions.</li></ul>`,f,w,M,u,g="Bugs",T,V,E=`<li>While it goes against my opinion on what the web should look like, this page
                    works better with Chrome-based browsers.</li> <li>For some reason the display of the tempo settings is broken on Firefox, the
                    input doesn&#39;t resize properly.</li> <li>The sound doesn&#39;t work on Safari on iOS (and maybe on MacOS too).</li>`,_,C;return{c(){t=h("div"),n=h("div"),e=h("h4"),s=ct(`Metronome
                `),r=h("button"),r.textContent=a,c=$(),m=h("div"),m.innerHTML=l,f=$(),w=h("br"),M=$(),u=h("h5"),u.textContent=g,T=$(),V=h("ul"),V.innerHTML=E,this.h()},l(k){t=d(k,"DIV",{role:!0,class:!0});var D=B(t);n=d(D,"DIV",{class:!0});var I=B(n);e=d(I,"H4",{class:!0});var x=B(e);s=ht(x,`Metronome
                `),r=d(x,"BUTTON",{"data-svelte-h":!0}),P(r)!=="svelte-2m9p61"&&(r.textContent=a),x.forEach(b),c=N(I),m=d(I,"DIV",{"data-svelte-h":!0}),P(m)!=="svelte-1k2t2wt"&&(m.innerHTML=l),f=N(I),w=d(I,"BR",{}),M=N(I),u=d(I,"H5",{"data-svelte-h":!0}),P(u)!=="svelte-1fvxfob"&&(u.textContent=g),T=N(I),V=d(I,"UL",{"data-svelte-h":!0}),P(V)!=="svelte-19aw4nc"&&(V.innerHTML=E),I.forEach(b),D.forEach(b),this.h()},h(){v(e,"class","title-bar svelte-mmovoq"),v(n,"class","contents svelte-mmovoq"),v(t,"role","dialog"),v(t,"class","modal svelte-mmovoq")},m(k,D){Z(k,t,D),i(t,n),i(n,e),i(e,s),i(e,r),i(n,c),i(n,m),i(n,f),i(n,w),i(n,M),i(n,u),i(n,T),i(n,V),_||(C=L(r,"click",Ct),_=!0)},d(k){k&&b(t),_=!1,C()}}}function Ft(o){let t,n=o[0]&&_t();return{c(){n&&n.c(),t=gt()},l(e){n&&n.l(e),t=gt()},m(e,s){n&&n.m(e,s),Z(e,t,s)},p(e,[s]){e[0]?n||(n=_t(),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:q,o:q,d(e){e&&b(t),n&&n.d(e)}}}function Zt(o,t,n){let{isOpen:e}=t;return o.$$set=s=>{"isOpen"in s&&n(0,e=s.isOpen)},[e]}class jt extends G{constructor(t){super(),Y(this,t,Zt,Ft,K,{isOpen:0})}}function Qt(o){let t,n,e,s,r,a='<i class="fa fa-info-circle" aria-hidden="true"></i>',c,m,l,f,w,M,u,g,T,V,E,_,C,k,D,I,x;return l=new Ot({props:{metronome:o[0]}}),M=new Pt({props:{metronome:o[0]}}),g=new Wt({props:{onNewBPM:o[2]}}),E=new Et({props:{metronome:o[0]}}),k=new qt({props:{metronome:o[0]}}),{c(){t=h("div"),n=h("h3"),e=ct(`Metronome
        `),s=h("span"),r=h("button"),r.innerHTML=a,c=$(),m=h("div"),J(l.$$.fragment),f=$(),w=h("div"),J(M.$$.fragment),u=$(),J(g.$$.fragment),T=$(),V=h("div"),J(E.$$.fragment),_=$(),C=h("div"),J(k.$$.fragment),this.h()},l(p){t=d(p,"DIV",{class:!0});var y=B(t);n=d(y,"H3",{});var O=B(n);e=ht(O,`Metronome
        `),s=d(O,"SPAN",{});var S=B(s);r=d(S,"BUTTON",{"data-svelte-h":!0}),P(r)!=="svelte-13whskn"&&(r.innerHTML=a),S.forEach(b),O.forEach(b),c=N(y),m=d(y,"DIV",{});var j=B(m);X(l.$$.fragment,j),j.forEach(b),f=N(y),w=d(y,"DIV",{class:!0});var z=B(w);X(M.$$.fragment,z),u=N(z),X(g.$$.fragment,z),z.forEach(b),T=N(y),V=d(y,"DIV",{class:!0});var H=B(V);X(E.$$.fragment,H),H.forEach(b),_=N(y),C=d(y,"DIV",{class:!0});var ot=B(C);X(k.$$.fragment,ot),ot.forEach(b),y.forEach(b),this.h()},h(){U(r,"position","relative"),v(w,"class","section svelte-1kxlsex"),v(V,"class","section svelte-1kxlsex"),v(C,"class","section svelte-1kxlsex"),v(t,"class","main svelte-1kxlsex")},m(p,y){Z(p,t,y),i(t,n),i(n,e),i(n,s),i(s,r),i(t,c),i(t,m),tt(l,m,null),i(t,f),i(t,w),tt(M,w,null),i(w,u),tt(g,w,null),i(t,T),i(t,V),tt(E,V,null),i(t,_),i(t,C),tt(k,C,null),D=!0,I||(x=L(r,"click",o[1]),I=!0)},p(p,[y]){const O={};y&1&&(O.metronome=p[0]),l.$set(O);const S={};y&1&&(S.metronome=p[0]),M.$set(S);const j={};y&1&&(j.onNewBPM=p[2]),g.$set(j);const z={};y&1&&(z.metronome=p[0]),E.$set(z);const H={};y&1&&(H.metronome=p[0]),k.$set(H)},i(p){D||(et(l.$$.fragment,p),et(M.$$.fragment,p),et(g.$$.fragment,p),et(E.$$.fragment,p),et(k.$$.fragment,p),D=!0)},o(p){nt(l.$$.fragment,p),nt(M.$$.fragment,p),nt(g.$$.fragment,p),nt(E.$$.fragment,p),nt(k.$$.fragment,p),D=!1},d(p){p&&b(t),st(l),st(M),st(g),st(E),st(k),I=!1,x()}}}function Kt(o,t,n){let e=new wt(80);return xt(()=>{n(0,e=new wt(80)),function(){window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(window.audioContext=new window.AudioContext);var a=function(c){if(window.audioContext){var m=window.audioContext.createBuffer(1,1,22050),l=window.audioContext.createBufferSource();l.buffer=m,l.connect(window.audioContext.destination),l.start?l.start(0):l.play?l.play(0):l.noteOn&&l.noteOn(0),n(0,e.audioContext=window.audioContext,e)}document.removeEventListener("touchstart",a),document.removeEventListener("touchend",a)};document.addEventListener("touchstart",a),document.addEventListener("touchend",a)}()}),Bt(()=>{e.stop()}),[e,()=>kt(jt),a=>{n(0,e.tempo=a/e.subdivisionsInBeat,e),n(0,e)}]}class Gt extends G{constructor(t){super(),Y(this,t,Kt,Qt,K,{})}}function Yt(o){let t,n;return t=new Gt({}),{c(){J(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,s){tt(t,e,s),n=!0},p:q,i(e){n||(et(t.$$.fragment,e),n=!0)},o(e){nt(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class se extends G{constructor(t){super(),Y(this,t,null,Yt,K,{})}}export{se as component};

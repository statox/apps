import{s as ye,B as dt,f as v,g as b,u as Z,j as H,C as Je,i as k,D as ee,z as ae,d as u,E as ut,l as q,a as y,h as S,m as F,c as E,F as mt,y as m,G as Ke,n as gt,H as Ne,o as pt,e as Le}from"../chunks/scheduler.aea6863f.js";import{S as Ee,i as Se,b as fe,d as ue,m as he,a as L,g as se,c as re,t as j,e as _e}from"../chunks/index.8e0c7531.js";import{e as G,u as vt,o as bt}from"../chunks/each.59b656ec.js";const kt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,wt="https://raw.githubusercontent.com/statox/blog/master/src/_data/chords.json",Ct=async()=>({chords:await fetch(wt).then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()})}),Nt=Object.freeze(Object.defineProperty({__proto__:null,load:Ct},Symbol.toStringTag,{value:"Module"})),Tt=(a,t)=>a<t?-1:a>t?1:0,Qe=(a,t)=>{const n=a.toLowerCase(),l=t.toLowerCase();return Tt(n,l)};const{clearTimeout:We,setTimeout:Ze,window:Ue}=kt;function $t(a){let t=!1,n=()=>{t=!1},l,e,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1na7s3f"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1na7s3f">Back to top</span>',r,h;return dt(a[3]),{c(){e=v("button"),e.innerHTML=s,this.h()},l(f){e=b(f,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1jtddcb"&&(e.innerHTML=s),this.h()},h(){H(e,"class","top-link svelte-1na7s3f"),Je(e,"hide",a[1])},m(f,_){k(f,e,_),r||(h=[ee(Ue,"scroll",()=>{t=!0,We(l),l=Ze(n,100),a[3]()}),ee(e,"click",a[2])],r=!0)},p(f,[_]){_&1&&!t&&(t=!0,We(l),scrollTo(Ue.pageXOffset,f[0]),l=Ze(n,100)),_&2&&Je(e,"hide",f[1])},i:ae,o:ae,d(f){f&&u(e),r=!1,ut(h)}}}function Lt(a,t,n){let l,e=!0,s;const r=_=>{_>0?n(1,e=!1):n(1,e=!0),s&&clearTimeout(s),s=setTimeout(()=>{n(1,e=!0)},3e3)},h=()=>{const _=document.documentElement.scrollTop||document.body.scrollTop;_>0&&(window.requestAnimationFrame(h),window.scrollTo(0,_-_/2))};function f(){n(0,l=Ue.pageYOffset)}return a.$$.update=()=>{a.$$.dirty&1&&r(l)},[l,e,h,f]}let yt=class extends Ee{constructor(t){super(),Se(this,t,Lt,$t,ye,{})}};function Et(a){let t,n,l,e,s,r;return{c(){t=v("span"),n=v("a"),l=q(a[1]),s=y(),r=v("span"),this.h()},l(h){t=b(h,"SPAN",{});var f=S(t);n=b(f,"A",{href:!0,target:!0,rel:!0});var _=S(n);l=F(_,a[1]),_.forEach(u),f.forEach(u),s=E(h),r=b(h,"SPAN",{class:!0}),S(r).forEach(u),this.h()},h(){H(n,"href",e=a[0].url),H(n,"target","_blank"),H(n,"rel","noopener noreferrer"),H(r,"class",mt(a[2])+" svelte-1ew26co")},m(h,f){k(h,t,f),m(t,n),m(n,l),k(h,s,f),k(h,r,f)},p(h,[f]){f&1&&e!==(e=h[0].url)&&H(n,"href",e)},i:ae,o:ae,d(h){h&&(u(t),u(s),u(r))}}}function St(a,t,n){let{chord:l}=t,{showArtist:e=!1}=t;const s=(e?l.artist+" - ":"")+l.title;let h=(f=>{const _=f.url;return _.includes(".doc")?"fas fa-xs fa-file-word":_.includes(".pdf")?"fas fa-xs fa-file-pdf":_.includes("youtube")?"fa fa-xs fa-youtube":"fas fa-xs fa-link"})(l);return a.$$set=f=>{"chord"in f&&n(0,l=f.chord),"showArtist"in f&&n(3,e=f.showArtist)},[l,s,h,e]}class De extends Ee{constructor(t){super(),Se(this,t,St,Et,ye,{chord:0,showArtist:3})}}function et(a,t,n){const l=a.slice();l[13]=t[n];const e=l[8][l[13]].sort((r,h)=>r.title<h.title?-1:1);l[0]=e;const s=l[13]+";"+l[0].reduce((r,h)=>r+h.title+";"+h.tags.join(","),"");return l[14]=s,l}function tt(a,t,n){const l=a.slice();l[17]=t[n];const e=l[13]+";"+l[17].title+";"+l[17].tags.join(",");return l[18]=e,l}function lt(a,t,n){const l=a.slice();return l[17]=t[n],l}function nt(a,t,n){const l=a.slice();return l[17]=t[n],l}function ot(a){let t,n,l,e;return n=new De({props:{chord:a[17]}}),{c(){t=v("li"),fe(n.$$.fragment),l=y(),this.h()},l(s){t=b(s,"LI",{class:!0});var r=S(t);ue(n.$$.fragment,r),l=E(r),r.forEach(u),this.h()},h(){H(t,"class","ul2col-item svelte-e2ukjt")},m(s,r){k(s,t,r),he(n,t,null),m(t,l),e=!0},p(s,r){const h={};r&4&&(h.chord=s[17]),n.$set(h)},i(s){e||(L(n.$$.fragment,s),e=!0)},o(s){j(n.$$.fragment,s),e=!1},d(s){s&&u(t),_e(n)}}}function st(a){let t,n=" ↶ ",l,e;return{c(){t=v("button"),t.textContent=n},l(s){t=b(s,"BUTTON",{"data-svelte-h":!0}),Z(t)!=="svelte-1mg1zky"&&(t.textContent=n)},m(s,r){k(s,t,r),l||(e=ee(t,"click",a[7]),l=!0)},p:ae,d(s){s&&u(t),l=!1,e()}}}function rt(a,t){let n,l,e,s;return l=new De({props:{chord:t[17],showArtist:!0}}),{key:a,first:null,c(){n=v("li"),fe(l.$$.fragment),e=y(),this.h()},l(r){n=b(r,"LI",{class:!0});var h=S(n);ue(l.$$.fragment,h),e=E(h),h.forEach(u),this.h()},h(){H(n,"class","ul2col-item svelte-e2ukjt"),this.first=n},m(r,h){k(r,n,h),he(l,n,null),m(n,e),s=!0},p(r,h){t=r;const f={};h&16&&(f.chord=t[17]),l.$set(f)},i(r){s||(L(l.$$.fragment,r),s=!0)},o(r){j(l.$$.fragment,r),s=!1},d(r){r&&u(n),_e(l)}}}function at(a){let t,n,l=a[13]+"",e,s,r,h,f,_=G(a[0]),g=[];for(let d=0;d<_.length;d+=1)g[d]=ct(tt(a,_,d));const z=d=>j(g[d],1,1,()=>{g[d]=null});return{c(){t=v("tr"),n=v("td"),e=q(l),s=y(),r=v("ul");for(let d=0;d<g.length;d+=1)g[d].c();h=y(),this.h()},l(d){t=b(d,"TR",{});var w=S(t);n=b(w,"TD",{});var p=S(n);e=F(p,l),s=E(p),r=b(p,"UL",{class:!0});var B=S(r);for(let C=0;C<g.length;C+=1)g[C].l(B);B.forEach(u),p.forEach(u),h=E(w),w.forEach(u),this.h()},h(){H(r,"class","ul2col-container svelte-e2ukjt")},m(d,w){k(d,t,w),m(t,n),m(n,e),m(n,s),m(n,r);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(r,null);m(t,h),f=!0},p(d,w){if(w&258){_=G(d[0]);let p;for(p=0;p<_.length;p+=1){const B=tt(d,_,p);g[p]?(g[p].p(B,w),L(g[p],1)):(g[p]=ct(B),g[p].c(),L(g[p],1),g[p].m(r,null))}for(se(),p=_.length;p<g.length;p+=1)z(p);re()}},i(d){if(!f){for(let w=0;w<_.length;w+=1)L(g[w]);f=!0}},o(d){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)j(g[w]);f=!1},d(d){d&&u(t),Ne(g,d)}}}function it(a){let t,n,l,e;return n=new De({props:{chord:a[17]}}),{c(){t=v("li"),fe(n.$$.fragment),l=y(),this.h()},l(s){t=b(s,"LI",{class:!0});var r=S(t);ue(n.$$.fragment,r),l=E(r),r.forEach(u),this.h()},h(){H(t,"class","ul2col-item svelte-e2ukjt")},m(s,r){k(s,t,r),he(n,t,null),m(t,l),e=!0},p:ae,i(s){e||(L(n.$$.fragment,s),e=!0)},o(s){j(n.$$.fragment,s),e=!1},d(s){s&&u(t),_e(n)}}}function ct(a){let t=a[1].length===0||a[18].toLowerCase().match(a[1].toLowerCase()),n,l,e=t&&it(a);return{c(){e&&e.c(),n=Le()},l(s){e&&e.l(s),n=Le()},m(s,r){e&&e.m(s,r),k(s,n,r),l=!0},p(s,r){r&2&&(t=s[1].length===0||s[18].toLowerCase().match(s[1].toLowerCase())),t?e?(e.p(s,r),r&2&&L(e,1)):(e=it(s),e.c(),L(e,1),e.m(n.parentNode,n)):e&&(se(),j(e,1,1,()=>{e=null}),re())},i(s){l||(L(e),l=!0)},o(s){j(e),l=!1},d(s){s&&u(n),e&&e.d(s)}}}function ft(a){let t=a[1].length===0||a[14].toLowerCase().match(a[1].toLowerCase()),n,l,e=t&&at(a);return{c(){e&&e.c(),n=Le()},l(s){e&&e.l(s),n=Le()},m(s,r){e&&e.m(s,r),k(s,n,r),l=!0},p(s,r){r&2&&(t=s[1].length===0||s[14].toLowerCase().match(s[1].toLowerCase())),t?e?(e.p(s,r),r&2&&L(e,1)):(e=at(s),e.c(),L(e,1),e.m(n.parentNode,n)):e&&(se(),j(e,1,1,()=>{e=null}),re())},i(s){l||(L(e),l=!0)},o(s){j(e),l=!1},d(s){s&&u(n),e&&e.d(s)}}}function Bt(a){let t,n=`Chords
    <a class="pull-right" href="https://github.com/statox/blog/issues/105#new_comment_field" target="_blank" rel="noopener noreferrer"><button>Add a song</button></a>`,l,e,s,r,h,f=a[0].length+"",_,g,z,d,w,p,B,C="More...",O,R,de,me,ge,N,te,Be,D,pe,Y,Pe="Get more random songs",Me,je,Ie,x,I=[],ze=new Map,ve,be,ke,U,le,Ve="All chords",He,V,Oe,J,qe=" ✖ ",we,Ce,Te,K,ie,Re,Fe;e=new yt({});let Q=G(a[2]),T=[];for(let o=0;o<Q.length;o+=1)T[o]=ot(nt(a,Q,o));const ht=o=>j(T[o],1,1,()=>{T[o]=null});let M=a[3].length>X&&st(a),ce=G(a[4]);const Ge=o=>o[17].url;for(let o=0;o<ce.length;o+=1){let i=lt(a,ce,o),c=Ge(i);ze.set(c,I[o]=rt(c,i))}let W=G(Object.keys(a[8]).sort(Qe)),$=[];for(let o=0;o<W.length;o+=1)$[o]=ft(et(a,W,o));const _t=o=>j($[o],1,1,()=>{$[o]=null});return{c(){t=v("h2"),t.innerHTML=n,l=y(),fe(e.$$.fragment),s=y(),r=v("p"),h=q("This is a list of "),_=q(f),g=q(" song chords I have been gathering for the past 10 years and that I like to play."),z=y(),d=v("div"),w=v("h3"),p=q(`Latest additions
        `),B=v("button"),B.textContent=C,O=y(),R=v("ul");for(let o=0;o<T.length;o+=1)T[o].c();de=y(),me=v("br"),ge=y(),N=v("div"),te=v("h3"),Be=q(`Random song
        `),D=v("span"),M&&M.c(),pe=y(),Y=v("button"),Y.textContent=Pe,Me=y(),je=v("br"),Ie=y(),x=v("ul");for(let o=0;o<I.length;o+=1)I[o].c();ve=y(),be=v("br"),ke=y(),U=v("div"),le=v("h3"),le.textContent=Ve,He=q(`
    Search an artist or a title: `),V=v("input"),Oe=y(),J=v("button"),J.textContent=qe,we=y(),Ce=v("br"),Te=y(),K=v("table");for(let o=0;o<$.length;o+=1)$[o].c();this.h()},l(o){t=b(o,"H2",{"data-svelte-h":!0}),Z(t)!=="svelte-lm7oxu"&&(t.innerHTML=n),l=E(o),ue(e.$$.fragment,o),s=E(o),r=b(o,"P",{});var i=S(r);h=F(i,"This is a list of "),_=F(i,f),g=F(i," song chords I have been gathering for the past 10 years and that I like to play."),i.forEach(u),z=E(o),d=b(o,"DIV",{});var c=S(d);w=b(c,"H3",{});var P=S(w);p=F(P,`Latest additions
        `),B=b(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(B)!=="svelte-l2h3rt"&&(B.textContent=C),P.forEach(u),O=E(c),R=b(c,"UL",{class:!0});var Xe=S(R);for(let A=0;A<T.length;A+=1)T[A].l(Xe);Xe.forEach(u),c.forEach(u),de=E(o),me=b(o,"BR",{}),ge=E(o),N=b(o,"DIV",{});var ne=S(N);te=b(ne,"H3",{});var Ae=S(te);Be=F(Ae,`Random song
        `),D=b(Ae,"SPAN",{class:!0});var $e=S(D);M&&M.l($e),pe=E($e),Y=b($e,"BUTTON",{"data-svelte-h":!0}),Z(Y)!=="svelte-1gfm3kd"&&(Y.textContent=Pe),$e.forEach(u),Ae.forEach(u),Me=E(ne),je=b(ne,"BR",{}),Ie=E(ne),x=b(ne,"UL",{class:!0});var Ye=S(x);for(let A=0;A<I.length;A+=1)I[A].l(Ye);Ye.forEach(u),ne.forEach(u),ve=E(o),be=b(o,"BR",{}),ke=E(o),U=b(o,"DIV",{});var oe=S(U);le=b(oe,"H3",{"data-svelte-h":!0}),Z(le)!=="svelte-1drf88u"&&(le.textContent=Ve),He=F(oe,`
    Search an artist or a title: `),V=b(oe,"INPUT",{type:!0}),Oe=E(oe),J=b(oe,"BUTTON",{"data-svelte-h":!0}),Z(J)!=="svelte-y0fatm"&&(J.textContent=qe),oe.forEach(u),we=E(o),Ce=b(o,"BR",{}),Te=E(o),K=b(o,"TABLE",{});var xe=S(K);for(let A=0;A<$.length;A+=1)$[A].l(xe);xe.forEach(u),this.h()},h(){H(B,"class","pull-right"),H(R,"class","ul2col-container svelte-e2ukjt"),H(D,"class","pull-right"),H(x,"class","ul2col-container svelte-e2ukjt"),H(V,"type","text")},m(o,i){k(o,t,i),k(o,l,i),he(e,o,i),k(o,s,i),k(o,r,i),m(r,h),m(r,_),m(r,g),k(o,z,i),k(o,d,i),m(d,w),m(w,p),m(w,B),m(d,O),m(d,R);for(let c=0;c<T.length;c+=1)T[c]&&T[c].m(R,null);k(o,de,i),k(o,me,i),k(o,ge,i),k(o,N,i),m(N,te),m(te,Be),m(te,D),M&&M.m(D,null),m(D,pe),m(D,Y),m(N,Me),m(N,je),m(N,Ie),m(N,x);for(let c=0;c<I.length;c+=1)I[c]&&I[c].m(x,null);k(o,ve,i),k(o,be,i),k(o,ke,i),k(o,U,i),m(U,le),m(U,He),m(U,V),Ke(V,a[1]),m(U,Oe),m(U,J),k(o,we,i),k(o,Ce,i),k(o,Te,i),k(o,K,i);for(let c=0;c<$.length;c+=1)$[c]&&$[c].m(K,null);ie=!0,Re||(Fe=[ee(B,"click",a[9]),ee(Y,"click",a[6]),ee(V,"input",a[10]),ee(J,"click",a[11])],Re=!0)},p(o,[i]){if((!ie||i&1)&&f!==(f=o[0].length+"")&&gt(_,f),i&4){Q=G(o[2]);let c;for(c=0;c<Q.length;c+=1){const P=nt(o,Q,c);T[c]?(T[c].p(P,i),L(T[c],1)):(T[c]=ot(P),T[c].c(),L(T[c],1),T[c].m(R,null))}for(se(),c=Q.length;c<T.length;c+=1)ht(c);re()}if(o[3].length>X?M?M.p(o,i):(M=st(o),M.c(),M.m(D,pe)):M&&(M.d(1),M=null),i&16&&(ce=G(o[4]),se(),I=vt(I,i,Ge,1,o,ce,ze,x,bt,rt,null,lt),re()),i&2&&V.value!==o[1]&&Ke(V,o[1]),i&258){W=G(Object.keys(o[8]).sort(Qe));let c;for(c=0;c<W.length;c+=1){const P=et(o,W,c);$[c]?($[c].p(P,i),L($[c],1)):($[c]=ft(P),$[c].c(),L($[c],1),$[c].m(K,null))}for(se(),c=W.length;c<$.length;c+=1)_t(c);re()}},i(o){if(!ie){L(e.$$.fragment,o);for(let i=0;i<Q.length;i+=1)L(T[i]);for(let i=0;i<ce.length;i+=1)L(I[i]);for(let i=0;i<W.length;i+=1)L($[i]);ie=!0}},o(o){j(e.$$.fragment,o),T=T.filter(Boolean);for(let i=0;i<T.length;i+=1)j(T[i]);for(let i=0;i<I.length;i+=1)j(I[i]);$=$.filter(Boolean);for(let i=0;i<$.length;i+=1)j($[i]);ie=!1},d(o){o&&(u(t),u(l),u(s),u(r),u(z),u(d),u(de),u(me),u(ge),u(N),u(ve),u(be),u(ke),u(U),u(we),u(Ce),u(Te),u(K)),_e(e,o),Ne(T,o),M&&M.d();for(let i=0;i<I.length;i+=1)I[i].d();Ne($,o),Re=!1,ut(Fe)}}}const X=4;function Mt(a,t,n){let{chords:l}=t,e="",s=6,r=[];const h=()=>{s+=4,n(2,r=l.filter(C=>C.creationDate).sort((C,O)=>O.creationDate-C.creationDate).slice(0,s))};let f=[],_=[];const g=()=>{f.length>=l.length-X&&n(3,f=[]);for(let C=0;C<X;C++){let O=-1;for(;O===-1||f.includes(O);)O=Math.floor(Math.random()*l.length);f.push(O)}n(4,_=f.slice(f.length-X).map(C=>l[C]))},z=()=>{f.length<=X||(f.splice(f.length-X),n(4,_=f.slice(f.length-X).map(C=>l[C])))},d=l.reduce((C,O)=>{const R=O.artist;return C[R]||(C[R]=[]),C[R].push(O),C},{});pt(()=>{g(),h()});const w=()=>h();function p(){e=this.value,n(1,e)}const B=()=>n(1,e="");return a.$$set=C=>{"chords"in C&&n(0,l=C.chords)},[l,e,r,f,_,h,g,z,d,w,p,B]}class jt extends Ee{constructor(t){super(),Se(this,t,Mt,Bt,ye,{chords:0})}}function It(a){let t,n;return t=new jt({props:{chords:a[0].chords}}),{c(){fe(t.$$.fragment)},l(l){ue(t.$$.fragment,l)},m(l,e){he(t,l,e),n=!0},p(l,[e]){const s={};e&1&&(s.chords=l[0].chords),t.$set(s)},i(l){n||(L(t.$$.fragment,l),n=!0)},o(l){j(t.$$.fragment,l),n=!1},d(l){_e(t,l)}}}function Ht(a,t,n){let{data:l}=t;return a.$$set=e=>{"data"in e&&n(0,l=e.data)},[l]}class Dt extends Ee{constructor(t){super(),Se(this,t,Ht,It,ye,{data:0})}}export{Dt as component,Nt as universal};

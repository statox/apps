import{s as yt,B as de,f as v,g as b,u as Z,j as B,C as Jt,i as w,D as tt,z as at,d as u,E as ue,l as q,a as y,h as S,m as F,c as E,F as ge,y as g,G as Kt,n as me,H as jt,o as pe,e as Lt}from"../chunks/scheduler.aea6863f.js";import{S as Et,i as St,b as ft,d as ut,m as ht,a as L,g as ot,c as rt,t as H,e as _t}from"../chunks/index.8e0c7531.js";import{e as G,u as ve,o as be}from"../chunks/each.59b656ec.js";const we=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,ke="https://raw.githubusercontent.com/statox/blog/master/src/_data/chords.json",Ce=async()=>({chords:await fetch(ke).then(e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})}),je=Object.freeze(Object.defineProperty({__proto__:null,load:Ce},Symbol.toStringTag,{value:"Module"})),Te=(a,e)=>a<e?-1:a>e?1:0,Qt=(a,e)=>{const n=a.toLowerCase(),l=e.toLowerCase();return Te(n,l)};const{clearTimeout:Wt,setTimeout:Zt,window:Ut}=we;function $e(a){let e=!1,n=()=>{e=!1},l,t,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1na7s3f"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1na7s3f">Back to top</span>',r,h;return de(a[3]),{c(){t=v("button"),t.innerHTML=o,this.h()},l(f){t=b(f,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1jtddcb"&&(t.innerHTML=o),this.h()},h(){B(t,"class","top-link svelte-1na7s3f"),Jt(t,"hide",a[1])},m(f,_){w(f,t,_),r||(h=[tt(Ut,"scroll",()=>{e=!0,Wt(l),l=Zt(n,100),a[3]()}),tt(t,"click",a[2])],r=!0)},p(f,[_]){_&1&&!e&&(e=!0,Wt(l),scrollTo(Ut.pageXOffset,f[0]),l=Zt(n,100)),_&2&&Jt(t,"hide",f[1])},i:at,o:at,d(f){f&&u(t),r=!1,ue(h)}}}function Le(a,e,n){let l,t=!0,o;const r=_=>{_>0?n(1,t=!1):n(1,t=!0),o&&clearTimeout(o),o=setTimeout(()=>{n(1,t=!0)},3e3)},h=()=>{const _=document.documentElement.scrollTop||document.body.scrollTop;_>0&&(window.requestAnimationFrame(h),window.scrollTo(0,_-_/2))};function f(){n(0,l=Ut.pageYOffset)}return a.$$.update=()=>{a.$$.dirty&1&&r(l)},[l,t,h,f]}let ye=class extends Et{constructor(e){super(),St(this,e,Le,$e,yt,{})}};function Ee(a){let e,n,l,t,o,r;return{c(){e=v("span"),n=v("a"),l=q(a[1]),o=y(),r=v("span"),this.h()},l(h){e=b(h,"SPAN",{});var f=S(e);n=b(f,"A",{href:!0,target:!0,rel:!0});var _=S(n);l=F(_,a[1]),_.forEach(u),f.forEach(u),o=E(h),r=b(h,"SPAN",{class:!0}),S(r).forEach(u),this.h()},h(){B(n,"href",t=a[0].url),B(n,"target","_blank"),B(n,"rel","noopener noreferrer"),B(r,"class",ge(a[2])+" svelte-1ew26co")},m(h,f){w(h,e,f),g(e,n),g(n,l),w(h,o,f),w(h,r,f)},p(h,[f]){f&1&&t!==(t=h[0].url)&&B(n,"href",t)},i:at,o:at,d(h){h&&(u(e),u(o),u(r))}}}function Se(a,e,n){let{chord:l}=e,{showArtist:t=!1}=e;const o=(t?l.artist+" - ":"")+l.title;let h=(f=>{const _=f.url;return _.includes(".doc")?"fas fa-xs fa-file-word":_.includes(".pdf")?"fas fa-xs fa-file-pdf":_.includes("youtube")?"fa fa-xs fa-youtube":"fas fa-xs fa-link"})(l);return a.$$set=f=>{"chord"in f&&n(0,l=f.chord),"showArtist"in f&&n(3,t=f.showArtist)},[l,o,h,t]}class Dt extends Et{constructor(e){super(),St(this,e,Se,Ee,yt,{chord:0,showArtist:3})}}function te(a,e,n){const l=a.slice();l[13]=e[n];const t=l[8][l[13]].sort((r,h)=>r.title<h.title?-1:1);l[0]=t;const o=l[13]+";"+l[0].reduce((r,h)=>r+h.title+";"+h.tags.join(","),"");return l[14]=o,l}function ee(a,e,n){const l=a.slice();l[17]=e[n];const t=l[13]+";"+l[17].title+";"+l[17].tags.join(",");return l[18]=t,l}function le(a,e,n){const l=a.slice();return l[17]=e[n],l}function ne(a,e,n){const l=a.slice();return l[17]=e[n],l}function se(a){let e,n,l,t;return n=new Dt({props:{chord:a[17]}}),{c(){e=v("li"),ft(n.$$.fragment),l=y(),this.h()},l(o){e=b(o,"LI",{class:!0});var r=S(e);ut(n.$$.fragment,r),l=E(r),r.forEach(u),this.h()},h(){B(e,"class","ul2col-item svelte-nhuwtg")},m(o,r){w(o,e,r),ht(n,e,null),g(e,l),t=!0},p(o,r){const h={};r&4&&(h.chord=o[17]),n.$set(h)},i(o){t||(L(n.$$.fragment,o),t=!0)},o(o){H(n.$$.fragment,o),t=!1},d(o){o&&u(e),_t(n)}}}function oe(a){let e,n=" ↶ ",l,t;return{c(){e=v("button"),e.textContent=n},l(o){e=b(o,"BUTTON",{"data-svelte-h":!0}),Z(e)!=="svelte-1mg1zky"&&(e.textContent=n)},m(o,r){w(o,e,r),l||(t=tt(e,"click",a[7]),l=!0)},p:at,d(o){o&&u(e),l=!1,t()}}}function re(a,e){let n,l,t,o;return l=new Dt({props:{chord:e[17],showArtist:!0}}),{key:a,first:null,c(){n=v("li"),ft(l.$$.fragment),t=y(),this.h()},l(r){n=b(r,"LI",{class:!0});var h=S(n);ut(l.$$.fragment,h),t=E(h),h.forEach(u),this.h()},h(){B(n,"class","ul2col-item svelte-nhuwtg"),this.first=n},m(r,h){w(r,n,h),ht(l,n,null),g(n,t),o=!0},p(r,h){e=r;const f={};h&16&&(f.chord=e[17]),l.$set(f)},i(r){o||(L(l.$$.fragment,r),o=!0)},o(r){H(l.$$.fragment,r),o=!1},d(r){r&&u(n),_t(l)}}}function ae(a){let e,n,l=a[13]+"",t,o,r,h,f,_=G(a[0]),m=[];for(let d=0;d<_.length;d+=1)m[d]=ce(ee(a,_,d));const z=d=>H(m[d],1,1,()=>{m[d]=null});return{c(){e=v("tr"),n=v("td"),t=q(l),o=y(),r=v("ul");for(let d=0;d<m.length;d+=1)m[d].c();h=y(),this.h()},l(d){e=b(d,"TR",{class:!0});var k=S(e);n=b(k,"TD",{class:!0});var p=S(n);t=F(p,l),o=E(p),r=b(p,"UL",{class:!0});var M=S(r);for(let C=0;C<m.length;C+=1)m[C].l(M);M.forEach(u),p.forEach(u),h=E(k),k.forEach(u),this.h()},h(){B(r,"class","ul2col-container svelte-nhuwtg"),B(n,"class","svelte-nhuwtg"),B(e,"class","svelte-nhuwtg")},m(d,k){w(d,e,k),g(e,n),g(n,t),g(n,o),g(n,r);for(let p=0;p<m.length;p+=1)m[p]&&m[p].m(r,null);g(e,h),f=!0},p(d,k){if(k&258){_=G(d[0]);let p;for(p=0;p<_.length;p+=1){const M=ee(d,_,p);m[p]?(m[p].p(M,k),L(m[p],1)):(m[p]=ce(M),m[p].c(),L(m[p],1),m[p].m(r,null))}for(ot(),p=_.length;p<m.length;p+=1)z(p);rt()}},i(d){if(!f){for(let k=0;k<_.length;k+=1)L(m[k]);f=!0}},o(d){m=m.filter(Boolean);for(let k=0;k<m.length;k+=1)H(m[k]);f=!1},d(d){d&&u(e),jt(m,d)}}}function ie(a){let e,n,l,t;return n=new Dt({props:{chord:a[17]}}),{c(){e=v("li"),ft(n.$$.fragment),l=y(),this.h()},l(o){e=b(o,"LI",{class:!0});var r=S(e);ut(n.$$.fragment,r),l=E(r),r.forEach(u),this.h()},h(){B(e,"class","ul2col-item svelte-nhuwtg")},m(o,r){w(o,e,r),ht(n,e,null),g(e,l),t=!0},p:at,i(o){t||(L(n.$$.fragment,o),t=!0)},o(o){H(n.$$.fragment,o),t=!1},d(o){o&&u(e),_t(n)}}}function ce(a){let e=a[1].length===0||a[18].toLowerCase().match(a[1].toLowerCase()),n,l,t=e&&ie(a);return{c(){t&&t.c(),n=Lt()},l(o){t&&t.l(o),n=Lt()},m(o,r){t&&t.m(o,r),w(o,n,r),l=!0},p(o,r){r&2&&(e=o[1].length===0||o[18].toLowerCase().match(o[1].toLowerCase())),e?t?(t.p(o,r),r&2&&L(t,1)):(t=ie(o),t.c(),L(t,1),t.m(n.parentNode,n)):t&&(ot(),H(t,1,1,()=>{t=null}),rt())},i(o){l||(L(t),l=!0)},o(o){H(t),l=!1},d(o){o&&u(n),t&&t.d(o)}}}function fe(a){let e=a[1].length===0||a[14].toLowerCase().match(a[1].toLowerCase()),n,l,t=e&&ae(a);return{c(){t&&t.c(),n=Lt()},l(o){t&&t.l(o),n=Lt()},m(o,r){t&&t.m(o,r),w(o,n,r),l=!0},p(o,r){r&2&&(e=o[1].length===0||o[14].toLowerCase().match(o[1].toLowerCase())),e?t?(t.p(o,r),r&2&&L(t,1)):(t=ae(o),t.c(),L(t,1),t.m(n.parentNode,n)):t&&(ot(),H(t,1,1,()=>{t=null}),rt())},i(o){l||(L(t),l=!0)},o(o){H(t),l=!1},d(o){o&&u(n),t&&t.d(o)}}}function Be(a){let e,n=`Chords
    <a class="pull-right" href="https://github.com/statox/blog/issues/105#new_comment_field" target="_blank" rel="noopener noreferrer"><button>Add a song</button></a>`,l,t,o,r,h,f=a[0].length+"",_,m,z,d,k,p,M,C="More...",R,A,dt,gt,mt,j,et,Bt,D,pt,Y,Pt="Get more random songs",Mt,It,Ht,x,O=[],zt=new Map,vt,bt,wt,U,lt,Vt="All chords",Ot,V,Rt,J,qt=" ✖ ",kt,Ct,Tt,K,it,At,Ft;t=new ye({});let Q=G(a[2]),T=[];for(let s=0;s<Q.length;s+=1)T[s]=se(ne(a,Q,s));const he=s=>H(T[s],1,1,()=>{T[s]=null});let I=a[3].length>X&&oe(a),ct=G(a[4]);const Gt=s=>s[17].url;for(let s=0;s<ct.length;s+=1){let i=le(a,ct,s),c=Gt(i);zt.set(c,O[s]=re(c,i))}let W=G(Object.keys(a[8]).sort(Qt)),$=[];for(let s=0;s<W.length;s+=1)$[s]=fe(te(a,W,s));const _e=s=>H($[s],1,1,()=>{$[s]=null});return{c(){e=v("h2"),e.innerHTML=n,l=y(),ft(t.$$.fragment),o=y(),r=v("p"),h=q("This is a list of "),_=q(f),m=q(" song chords I have been gathering for the past 10 years and that I like to play."),z=y(),d=v("div"),k=v("h3"),p=q(`Latest additions
        `),M=v("button"),M.textContent=C,R=y(),A=v("ul");for(let s=0;s<T.length;s+=1)T[s].c();dt=y(),gt=v("br"),mt=y(),j=v("div"),et=v("h3"),Bt=q(`Random song
        `),D=v("span"),I&&I.c(),pt=y(),Y=v("button"),Y.textContent=Pt,Mt=y(),It=v("br"),Ht=y(),x=v("ul");for(let s=0;s<O.length;s+=1)O[s].c();vt=y(),bt=v("br"),wt=y(),U=v("div"),lt=v("h3"),lt.textContent=Vt,Ot=q(`
    Search an artist or a title: `),V=v("input"),Rt=y(),J=v("button"),J.textContent=qt,kt=y(),Ct=v("br"),Tt=y(),K=v("table");for(let s=0;s<$.length;s+=1)$[s].c();this.h()},l(s){e=b(s,"H2",{"data-svelte-h":!0}),Z(e)!=="svelte-lm7oxu"&&(e.innerHTML=n),l=E(s),ut(t.$$.fragment,s),o=E(s),r=b(s,"P",{});var i=S(r);h=F(i,"This is a list of "),_=F(i,f),m=F(i," song chords I have been gathering for the past 10 years and that I like to play."),i.forEach(u),z=E(s),d=b(s,"DIV",{});var c=S(d);k=b(c,"H3",{});var P=S(k);p=F(P,`Latest additions
        `),M=b(P,"BUTTON",{class:!0,"data-svelte-h":!0}),Z(M)!=="svelte-l2h3rt"&&(M.textContent=C),P.forEach(u),R=E(c),A=b(c,"UL",{class:!0});var Xt=S(A);for(let N=0;N<T.length;N+=1)T[N].l(Xt);Xt.forEach(u),c.forEach(u),dt=E(s),gt=b(s,"BR",{}),mt=E(s),j=b(s,"DIV",{});var nt=S(j);et=b(nt,"H3",{});var Nt=S(et);Bt=F(Nt,`Random song
        `),D=b(Nt,"SPAN",{class:!0});var $t=S(D);I&&I.l($t),pt=E($t),Y=b($t,"BUTTON",{"data-svelte-h":!0}),Z(Y)!=="svelte-1gfm3kd"&&(Y.textContent=Pt),$t.forEach(u),Nt.forEach(u),Mt=E(nt),It=b(nt,"BR",{}),Ht=E(nt),x=b(nt,"UL",{class:!0});var Yt=S(x);for(let N=0;N<O.length;N+=1)O[N].l(Yt);Yt.forEach(u),nt.forEach(u),vt=E(s),bt=b(s,"BR",{}),wt=E(s),U=b(s,"DIV",{});var st=S(U);lt=b(st,"H3",{"data-svelte-h":!0}),Z(lt)!=="svelte-1drf88u"&&(lt.textContent=Vt),Ot=F(st,`
    Search an artist or a title: `),V=b(st,"INPUT",{type:!0}),Rt=E(st),J=b(st,"BUTTON",{"data-svelte-h":!0}),Z(J)!=="svelte-y0fatm"&&(J.textContent=qt),st.forEach(u),kt=E(s),Ct=b(s,"BR",{}),Tt=E(s),K=b(s,"TABLE",{});var xt=S(K);for(let N=0;N<$.length;N+=1)$[N].l(xt);xt.forEach(u),this.h()},h(){B(M,"class","pull-right"),B(A,"class","ul2col-container svelte-nhuwtg"),B(D,"class","pull-right"),B(x,"class","ul2col-container svelte-nhuwtg"),B(V,"type","text")},m(s,i){w(s,e,i),w(s,l,i),ht(t,s,i),w(s,o,i),w(s,r,i),g(r,h),g(r,_),g(r,m),w(s,z,i),w(s,d,i),g(d,k),g(k,p),g(k,M),g(d,R),g(d,A);for(let c=0;c<T.length;c+=1)T[c]&&T[c].m(A,null);w(s,dt,i),w(s,gt,i),w(s,mt,i),w(s,j,i),g(j,et),g(et,Bt),g(et,D),I&&I.m(D,null),g(D,pt),g(D,Y),g(j,Mt),g(j,It),g(j,Ht),g(j,x);for(let c=0;c<O.length;c+=1)O[c]&&O[c].m(x,null);w(s,vt,i),w(s,bt,i),w(s,wt,i),w(s,U,i),g(U,lt),g(U,Ot),g(U,V),Kt(V,a[1]),g(U,Rt),g(U,J),w(s,kt,i),w(s,Ct,i),w(s,Tt,i),w(s,K,i);for(let c=0;c<$.length;c+=1)$[c]&&$[c].m(K,null);it=!0,At||(Ft=[tt(M,"click",a[9]),tt(Y,"click",a[6]),tt(V,"input",a[10]),tt(J,"click",a[11])],At=!0)},p(s,[i]){if((!it||i&1)&&f!==(f=s[0].length+"")&&me(_,f),i&4){Q=G(s[2]);let c;for(c=0;c<Q.length;c+=1){const P=ne(s,Q,c);T[c]?(T[c].p(P,i),L(T[c],1)):(T[c]=se(P),T[c].c(),L(T[c],1),T[c].m(A,null))}for(ot(),c=Q.length;c<T.length;c+=1)he(c);rt()}if(s[3].length>X?I?I.p(s,i):(I=oe(s),I.c(),I.m(D,pt)):I&&(I.d(1),I=null),i&16&&(ct=G(s[4]),ot(),O=ve(O,i,Gt,1,s,ct,zt,x,be,re,null,le),rt()),i&2&&V.value!==s[1]&&Kt(V,s[1]),i&258){W=G(Object.keys(s[8]).sort(Qt));let c;for(c=0;c<W.length;c+=1){const P=te(s,W,c);$[c]?($[c].p(P,i),L($[c],1)):($[c]=fe(P),$[c].c(),L($[c],1),$[c].m(K,null))}for(ot(),c=W.length;c<$.length;c+=1)_e(c);rt()}},i(s){if(!it){L(t.$$.fragment,s);for(let i=0;i<Q.length;i+=1)L(T[i]);for(let i=0;i<ct.length;i+=1)L(O[i]);for(let i=0;i<W.length;i+=1)L($[i]);it=!0}},o(s){H(t.$$.fragment,s),T=T.filter(Boolean);for(let i=0;i<T.length;i+=1)H(T[i]);for(let i=0;i<O.length;i+=1)H(O[i]);$=$.filter(Boolean);for(let i=0;i<$.length;i+=1)H($[i]);it=!1},d(s){s&&(u(e),u(l),u(o),u(r),u(z),u(d),u(dt),u(gt),u(mt),u(j),u(vt),u(bt),u(wt),u(U),u(kt),u(Ct),u(Tt),u(K)),_t(t,s),jt(T,s),I&&I.d();for(let i=0;i<O.length;i+=1)O[i].d();jt($,s),At=!1,ue(Ft)}}}const X=4;function Me(a,e,n){let{chords:l}=e,t="",o=6,r=[];const h=()=>{o+=4,n(2,r=l.filter(C=>C.creationDate).sort((C,R)=>R.creationDate-C.creationDate).slice(0,o))};let f=[],_=[];const m=()=>{f.length>=l.length-X&&n(3,f=[]);for(let C=0;C<X;C++){let R=-1;for(;R===-1||f.includes(R);)R=Math.floor(Math.random()*l.length);f.push(R)}n(4,_=f.slice(f.length-X).map(C=>l[C]))},z=()=>{f.length<=X||(f.splice(f.length-X),n(4,_=f.slice(f.length-X).map(C=>l[C])))},d=l.reduce((C,R)=>{const A=R.artist;return C[A]||(C[A]=[]),C[A].push(R),C},{});pe(()=>{m(),h()});const k=()=>h();function p(){t=this.value,n(1,t)}const M=()=>n(1,t="");return a.$$set=C=>{"chords"in C&&n(0,l=C.chords)},[l,t,r,f,_,h,m,z,d,k,p,M]}class Ie extends Et{constructor(e){super(),St(this,e,Me,Be,yt,{chords:0})}}function He(a){let e,n;return e=new Ie({props:{chords:a[0].chords}}),{c(){ft(e.$$.fragment)},l(l){ut(e.$$.fragment,l)},m(l,t){ht(e,l,t),n=!0},p(l,[t]){const o={};t&1&&(o.chords=l[0].chords),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){_t(e,l)}}}function Oe(a,e,n){let{data:l}=e;return a.$$set=t=>{"data"in t&&n(0,l=t.data)},[l]}class De extends Et{constructor(e){super(),St(this,e,Oe,He,yt,{data:0})}}export{De as component,je as universal};

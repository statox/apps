import{s as ce,B as ht,f as m,g as p,u as Q,j as C,C as Xe,i as v,D as W,z as F,d as _,E as ct,l as D,a as T,h as E,m as P,c as y,F as _t,y as d,G as Ee,n as ft,e as ye,H as Ye,o as dt}from"../chunks/scheduler.9f1d5949.js";import{S as fe,i as ue,b as Z,d as ee,m as te,a as L,g as ae,c as ie,t as I,e as le}from"../chunks/index.385c8399.js";import{e as U,u as gt,o as mt}from"../chunks/each.3d460d07.js";const pt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,vt="https://raw.githubusercontent.com/statox/blog/master/src/_data/chords.json",bt=async()=>({chords:await fetch(vt).then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()})}),qt=Object.freeze(Object.defineProperty({__proto__:null,load:bt},Symbol.toStringTag,{value:"Module"}));const{clearTimeout:xe,setTimeout:Je,window:Ue}=pt;function kt(a){let t=!1,s=()=>{t=!1},l,e,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1na7s3f"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1na7s3f">Back to top</span>',n,c;return ht(a[3]),{c(){e=m("button"),e.innerHTML=r,this.h()},l(o){e=p(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1jtddcb"&&(e.innerHTML=r),this.h()},h(){C(e,"class","top-link svelte-1na7s3f"),Xe(e,"hide",a[1])},m(o,u){v(o,e,u),n||(c=[W(Ue,"scroll",()=>{t=!0,xe(l),l=Je(s,100),a[3]()}),W(e,"click",a[2])],n=!0)},p(o,[u]){u&1&&!t&&(t=!0,xe(l),scrollTo(Ue.pageXOffset,o[0]),l=Je(s,100)),u&2&&Xe(e,"hide",o[1])},i:F,o:F,d(o){o&&_(e),n=!1,ct(c)}}}function wt(a,t,s){let l,e=!0,r;const n=u=>{u>0?s(1,e=!1):s(1,e=!0),r&&clearTimeout(r),r=setTimeout(()=>{s(1,e=!0)},3e3)},c=()=>{const u=document.documentElement.scrollTop||document.body.scrollTop;u>0&&(window.requestAnimationFrame(c),window.scrollTo(0,u-u/2))};function o(){s(0,l=Ue.pageYOffset)}return a.$$.update=()=>{a.$$.dirty&1&&n(l)},[l,e,c,o]}let $t=class extends fe{constructor(t){super(),ue(this,t,wt,kt,ce,{})}};function Ct(a){let t,s,l,e,r,n;return{c(){t=m("span"),s=m("a"),l=D(a[1]),r=T(),n=m("span"),this.h()},l(c){t=p(c,"SPAN",{});var o=E(t);s=p(o,"A",{href:!0,target:!0,rel:!0});var u=E(s);l=P(u,a[1]),u.forEach(_),o.forEach(_),r=y(c),n=p(c,"SPAN",{class:!0}),E(n).forEach(_),this.h()},h(){C(s,"href",e=a[0].url),C(s,"target","_blank"),C(s,"rel","noopener noreferrer"),C(n,"class",_t(a[2])+" svelte-1ew26co")},m(c,o){v(c,t,o),d(t,s),d(s,l),v(c,r,o),v(c,n,o)},p(c,[o]){o&1&&e!==(e=c[0].url)&&C(s,"href",e)},i:F,o:F,d(c){c&&(_(t),_(r),_(n))}}}function Lt(a,t,s){let{chord:l}=t,{showArtist:e=!1}=t;const r=(e?l.artist+" - ":"")+l.title;let c=(o=>{const u=o.url;return u.includes(".doc")?"fas fa-xs fa-file-word":u.includes(".pdf")?"fas fa-xs fa-file-pdf":u.includes("youtube")?"fa fa-xs fa-youtube":"fas fa-xs fa-link"})(l);return a.$$set=o=>{"chord"in o&&s(0,l=o.chord),"showArtist"in o&&s(3,e=o.showArtist)},[l,r,c,e]}class Ne extends fe{constructor(t){super(),ue(this,t,Lt,Ct,ce,{chord:0,showArtist:3})}}const Tt=(a,t)=>a<t?-1:a>t?1:0,yt=(a,t)=>{const s=a.toLowerCase(),l=t.toLowerCase();return Tt(s,l)};function Ke(a,t,s){const l=a.slice();return l[1]=t[s],l}function Qe(a){let t,s,l=a[1].letter.toUpperCase()+"",e,r,n;return{c(){t=m("li"),s=m("a"),e=D(l),n=T(),this.h()},l(c){t=p(c,"LI",{class:!0});var o=E(t);s=p(o,"A",{href:!0,class:!0});var u=E(s);e=P(u,l),u.forEach(_),n=y(o),o.forEach(_),this.h()},h(){C(s,"href",r="#"+a[1].tag),C(s,"class","navigationLink svelte-jrwdqh"),C(t,"class","navigationBtn svelte-jrwdqh")},m(c,o){v(c,t,o),d(t,s),d(s,e),d(t,n)},p(c,o){o&1&&l!==(l=c[1].letter.toUpperCase()+"")&&ft(e,l),o&1&&r!==(r="#"+c[1].tag)&&C(s,"href",r)},d(c){c&&_(t)}}}function Et(a){let t,s=U(a[0]),l=[];for(let e=0;e<s.length;e+=1)l[e]=Qe(Ke(a,s,e));return{c(){t=m("ol");for(let e=0;e<l.length;e+=1)l[e].c();this.h()},l(e){t=p(e,"OL",{id:!0,class:!0});var r=E(t);for(let n=0;n<l.length;n+=1)l[n].l(r);r.forEach(_),this.h()},h(){C(t,"id","indexList"),C(t,"class","navigationBar disable-scrollbars svelte-jrwdqh")},m(e,r){v(e,t,r);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(t,null)},p(e,[r]){if(r&1){s=U(e[0]);let n;for(n=0;n<s.length;n+=1){const c=Ke(e,s,n);l[n]?l[n].p(c,r):(l[n]=Qe(c),l[n].c(),l[n].m(t,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},i:F,o:F,d(e){e&&_(t),Ee(l,e)}}}function St(a,t,s){let{tags:l}=t;return a.$$set=e=>{"tags"in e&&s(0,l=e.tags)},[l]}class Bt extends fe{constructor(t){super(),ue(this,t,St,Et,ce,{tags:0})}}function We(a,t,s){const l=a.slice();l[5]=t[s];const e=l[2][l[5].name].sort((n,c)=>n.title<c.title?-1:1);l[1]=e;const r=l[5]+";"+l[1].reduce((n,c)=>n+c.title+";"+c.tags.join(","),"");return l[6]=r,l}function Ze(a,t,s){const l=a.slice();l[9]=t[s];const e=l[5].name+";"+l[9].title+";"+l[9].tags.join(",");return l[10]=e,l}function et(a){let t,s,l=a[5].name+"",e,r,n,c,o,u=U(a[1]),f=[];for(let g=0;g<u.length;g+=1)f[g]=lt(Ze(a,u,g));const A=g=>I(f[g],1,1,()=>{f[g]=null});return{c(){t=m("tr"),s=m("td"),e=D(l),r=T(),n=m("ul");for(let g=0;g<f.length;g+=1)f[g].c();c=T(),this.h()},l(g){t=p(g,"TR",{class:!0});var w=E(t);s=p(w,"TD",{id:!0,class:!0});var b=E(s);e=P(b,l),r=y(b),n=p(b,"UL",{class:!0});var k=E(n);for(let H=0;H<f.length;H+=1)f[H].l(k);k.forEach(_),b.forEach(_),c=y(w),w.forEach(_),this.h()},h(){C(n,"class","ul2col-container svelte-14ybiyo"),C(s,"id",a[5].tag),C(s,"class","svelte-14ybiyo"),C(t,"class","svelte-14ybiyo")},m(g,w){v(g,t,w),d(t,s),d(s,e),d(s,r),d(s,n);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(n,null);d(t,c),o=!0},p(g,w){if(w&21){u=U(g[1]);let b;for(b=0;b<u.length;b+=1){const k=Ze(g,u,b);f[b]?(f[b].p(k,w),L(f[b],1)):(f[b]=lt(k),f[b].c(),L(f[b],1),f[b].m(n,null))}for(ae(),b=u.length;b<f.length;b+=1)A(b);ie()}},i(g){if(!o){for(let w=0;w<u.length;w+=1)L(f[w]);o=!0}},o(g){f=f.filter(Boolean);for(let w=0;w<f.length;w+=1)I(f[w]);o=!1},d(g){g&&_(t),Ee(f,g)}}}function tt(a){let t,s,l,e;return s=new Ne({props:{chord:a[9]}}),{c(){t=m("li"),Z(s.$$.fragment),l=T(),this.h()},l(r){t=p(r,"LI",{class:!0});var n=E(t);ee(s.$$.fragment,n),l=y(n),n.forEach(_),this.h()},h(){C(t,"class","ul2col-item svelte-14ybiyo")},m(r,n){v(r,t,n),te(s,t,null),d(t,l),e=!0},p:F,i(r){e||(L(s.$$.fragment,r),e=!0)},o(r){I(s.$$.fragment,r),e=!1},d(r){r&&_(t),le(s)}}}function lt(a){let t=a[0].length===0||a[10].toLowerCase().match(a[0].toLowerCase()),s,l,e=t&&tt(a);return{c(){e&&e.c(),s=ye()},l(r){e&&e.l(r),s=ye()},m(r,n){e&&e.m(r,n),v(r,s,n),l=!0},p(r,n){n&1&&(t=r[0].length===0||r[10].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,n),n&1&&L(e,1)):(e=tt(r),e.c(),L(e,1),e.m(s.parentNode,s)):e&&(ae(),I(e,1,1,()=>{e=null}),ie())},i(r){l||(L(e),l=!0)},o(r){I(e),l=!1},d(r){r&&_(s),e&&e.d(r)}}}function nt(a){let t=a[0].length===0||a[6].toLowerCase().match(a[0].toLowerCase()),s,l,e=t&&et(a);return{c(){e&&e.c(),s=ye()},l(r){e&&e.l(r),s=ye()},m(r,n){e&&e.m(r,n),v(r,s,n),l=!0},p(r,n){n&1&&(t=r[0].length===0||r[6].toLowerCase().match(r[0].toLowerCase())),t?e?(e.p(r,n),n&1&&L(e,1)):(e=et(r),e.c(),L(e,1),e.m(s.parentNode,s)):e&&(ae(),I(e,1,1,()=>{e=null}),ie())},i(r){l||(L(e),l=!0)},o(r){I(e),l=!1},d(r){r&&_(s),e&&e.d(r)}}}function It(a){let t,s,l,e;t=new Bt({props:{tags:a[3]}});let r=U(a[4]),n=[];for(let o=0;o<r.length;o+=1)n[o]=nt(We(a,r,o));const c=o=>I(n[o],1,1,()=>{n[o]=null});return{c(){Z(t.$$.fragment),s=T(),l=m("table");for(let o=0;o<n.length;o+=1)n[o].c()},l(o){ee(t.$$.fragment,o),s=y(o),l=p(o,"TABLE",{});var u=E(l);for(let f=0;f<n.length;f+=1)n[f].l(u);u.forEach(_)},m(o,u){te(t,o,u),v(o,s,u),v(o,l,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(l,null);e=!0},p(o,[u]){if(u&21){r=U(o[4]);let f;for(f=0;f<r.length;f+=1){const A=We(o,r,f);n[f]?(n[f].p(A,u),L(n[f],1)):(n[f]=nt(A),n[f].c(),L(n[f],1),n[f].m(l,null))}for(ae(),f=r.length;f<n.length;f+=1)c(f);ie()}},i(o){if(!e){L(t.$$.fragment,o);for(let u=0;u<r.length;u+=1)L(n[u]);e=!0}},o(o){I(t.$$.fragment,o),n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)I(n[u]);e=!1},d(o){o&&(_(s),_(l)),le(t,o),Ee(n,o)}}}function Mt(a,t,s){let{searchString:l}=t,{chords:e}=t;const r=e.reduce((o,u)=>{const f=u.artist;return o[f]||(o[f]=[]),o[f].push(u),o},{}),n=[],c=Object.keys(r).sort(yt).map((o,u,f)=>{if(u===0||o[0].toLowerCase()!=f[u-1][0].toLowerCase()){const A="anchor_letter_"+o[0];return n.push({letter:o[0],tag:A}),{name:o,tag:A}}return{name:o}});return a.$$set=o=>{"searchString"in o&&s(0,l=o.searchString),"chords"in o&&s(1,e=o.chords)},[l,e,r,n,c]}class jt extends fe{constructor(t){super(),ue(this,t,Mt,It,ce,{searchString:0,chords:1})}}function st(a,t,s){const l=a.slice();return l[12]=t[s],l}function rt(a,t,s){const l=a.slice();return l[12]=t[s],l}function ot(a){let t,s,l,e;return s=new Ne({props:{chord:a[12]}}),{c(){t=m("li"),Z(s.$$.fragment),l=T(),this.h()},l(r){t=p(r,"LI",{class:!0});var n=E(t);ee(s.$$.fragment,n),l=y(n),n.forEach(_),this.h()},h(){C(t,"class","ul2col-item svelte-e2ukjt")},m(r,n){v(r,t,n),te(s,t,null),d(t,l),e=!0},p(r,n){const c={};n&4&&(c.chord=r[12]),s.$set(c)},i(r){e||(L(s.$$.fragment,r),e=!0)},o(r){I(s.$$.fragment,r),e=!1},d(r){r&&_(t),le(s)}}}function at(a){let t,s=" ↶ ",l,e;return{c(){t=m("button"),t.textContent=s},l(r){t=p(r,"BUTTON",{"data-svelte-h":!0}),Q(t)!=="svelte-1mg1zky"&&(t.textContent=s)},m(r,n){v(r,t,n),l||(e=W(t,"click",a[7]),l=!0)},p:F,d(r){r&&_(t),l=!1,e()}}}function it(a,t){let s,l,e,r;return l=new Ne({props:{chord:t[12],showArtist:!0}}),{key:a,first:null,c(){s=m("li"),Z(l.$$.fragment),e=T(),this.h()},l(n){s=p(n,"LI",{class:!0});var c=E(s);ee(l.$$.fragment,c),e=y(c),c.forEach(_),this.h()},h(){C(s,"class","ul2col-item svelte-e2ukjt"),this.first=s},m(n,c){v(n,s,c),te(l,s,null),d(s,e),r=!0},p(n,c){t=n;const o={};c&16&&(o.chord=t[12]),l.$set(o)},i(n){r||(L(l.$$.fragment,n),r=!0)},o(n){I(l.$$.fragment,n),r=!1},d(n){n&&_(s),le(l)}}}function At(a){let t,s=`Chords
    <a class="pull-right" href="https://github.com/statox/blog/issues/105#new_comment_field" target="_blank" rel="noopener noreferrer"><button>Add a song</button></a>`,l,e,r,n,c,o=a[0].length+"",u,f,A,g,w,b,k,H="More...",Se,G,ge,me,pe,O,ne,Be,N,ve,X,De="Get more random songs",Ie,Me,je,Y,j=[],Pe=new Map,be,ke,we,R,se,qe="All chords",Ae,q,He,x,ze=" ✖ ",$e,Ce,Le,z,he,Oe,Ve;e=new $t({});let J=U(a[2]),$=[];for(let i=0;i<J.length;i+=1)$[i]=ot(rt(a,J,i));const ut=i=>I($[i],1,1,()=>{$[i]=null});let M=a[3].length>V&&at(a),_e=U(a[4]);const Fe=i=>i[12].url;for(let i=0;i<_e.length;i+=1){let h=st(a,_e,i),S=Fe(h);Pe.set(S,j[i]=it(S,h))}return z=new jt({props:{chords:a[0],searchString:a[1]}}),{c(){t=m("h2"),t.innerHTML=s,l=T(),Z(e.$$.fragment),r=T(),n=m("p"),c=D("This is a list of "),u=D(o),f=D(" song chords I have been gathering for the past 10 years and that I like to play."),A=T(),g=m("div"),w=m("h3"),b=D(`Latest additions
        `),k=m("button"),k.textContent=H,Se=T(),G=m("ul");for(let i=0;i<$.length;i+=1)$[i].c();ge=T(),me=m("br"),pe=T(),O=m("div"),ne=m("h3"),Be=D(`Random song
        `),N=m("span"),M&&M.c(),ve=T(),X=m("button"),X.textContent=De,Ie=T(),Me=m("br"),je=T(),Y=m("ul");for(let i=0;i<j.length;i+=1)j[i].c();be=T(),ke=m("br"),we=T(),R=m("div"),se=m("h3"),se.textContent=qe,Ae=D(`
    Search an artist or a title: `),q=m("input"),He=T(),x=m("button"),x.textContent=ze,$e=T(),Ce=m("br"),Le=T(),Z(z.$$.fragment),this.h()},l(i){t=p(i,"H2",{"data-svelte-h":!0}),Q(t)!=="svelte-lm7oxu"&&(t.innerHTML=s),l=y(i),ee(e.$$.fragment,i),r=y(i),n=p(i,"P",{});var h=E(n);c=P(h,"This is a list of "),u=P(h,o),f=P(h," song chords I have been gathering for the past 10 years and that I like to play."),h.forEach(_),A=y(i),g=p(i,"DIV",{});var S=E(g);w=p(S,"H3",{});var B=E(w);b=P(B,`Latest additions
        `),k=p(B,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(k)!=="svelte-l2h3rt"&&(k.textContent=H),B.forEach(_),Se=y(S),G=p(S,"UL",{class:!0});var de=E(G);for(let K=0;K<$.length;K+=1)$[K].l(de);de.forEach(_),S.forEach(_),ge=y(i),me=p(i,"BR",{}),pe=y(i),O=p(i,"DIV",{});var re=E(O);ne=p(re,"H3",{});var Re=E(ne);Be=P(Re,`Random song
        `),N=p(Re,"SPAN",{class:!0});var Te=E(N);M&&M.l(Te),ve=y(Te),X=p(Te,"BUTTON",{"data-svelte-h":!0}),Q(X)!=="svelte-1gfm3kd"&&(X.textContent=De),Te.forEach(_),Re.forEach(_),Ie=y(re),Me=p(re,"BR",{}),je=y(re),Y=p(re,"UL",{class:!0});var Ge=E(Y);for(let K=0;K<j.length;K+=1)j[K].l(Ge);Ge.forEach(_),re.forEach(_),be=y(i),ke=p(i,"BR",{}),we=y(i),R=p(i,"DIV",{});var oe=E(R);se=p(oe,"H3",{"data-svelte-h":!0}),Q(se)!=="svelte-1drf88u"&&(se.textContent=qe),Ae=P(oe,`
    Search an artist or a title: `),q=p(oe,"INPUT",{type:!0}),He=y(oe),x=p(oe,"BUTTON",{"data-svelte-h":!0}),Q(x)!=="svelte-y0fatm"&&(x.textContent=ze),oe.forEach(_),$e=y(i),Ce=p(i,"BR",{}),Le=y(i),ee(z.$$.fragment,i),this.h()},h(){C(k,"class","pull-right"),C(G,"class","ul2col-container svelte-e2ukjt"),C(N,"class","pull-right"),C(Y,"class","ul2col-container svelte-e2ukjt"),C(q,"type","text")},m(i,h){v(i,t,h),v(i,l,h),te(e,i,h),v(i,r,h),v(i,n,h),d(n,c),d(n,u),d(n,f),v(i,A,h),v(i,g,h),d(g,w),d(w,b),d(w,k),d(g,Se),d(g,G);for(let S=0;S<$.length;S+=1)$[S]&&$[S].m(G,null);v(i,ge,h),v(i,me,h),v(i,pe,h),v(i,O,h),d(O,ne),d(ne,Be),d(ne,N),M&&M.m(N,null),d(N,ve),d(N,X),d(O,Ie),d(O,Me),d(O,je),d(O,Y);for(let S=0;S<j.length;S+=1)j[S]&&j[S].m(Y,null);v(i,be,h),v(i,ke,h),v(i,we,h),v(i,R,h),d(R,se),d(R,Ae),d(R,q),Ye(q,a[1]),d(R,He),d(R,x),v(i,$e,h),v(i,Ce,h),v(i,Le,h),te(z,i,h),he=!0,Oe||(Ve=[W(k,"click",a[8]),W(X,"click",a[6]),W(q,"input",a[9]),W(x,"click",a[10])],Oe=!0)},p(i,[h]){if((!he||h&1)&&o!==(o=i[0].length+"")&&ft(u,o),h&4){J=U(i[2]);let B;for(B=0;B<J.length;B+=1){const de=rt(i,J,B);$[B]?($[B].p(de,h),L($[B],1)):($[B]=ot(de),$[B].c(),L($[B],1),$[B].m(G,null))}for(ae(),B=J.length;B<$.length;B+=1)ut(B);ie()}i[3].length>V?M?M.p(i,h):(M=at(i),M.c(),M.m(N,ve)):M&&(M.d(1),M=null),h&16&&(_e=U(i[4]),ae(),j=gt(j,h,Fe,1,i,_e,Pe,Y,mt,it,null,st),ie()),h&2&&q.value!==i[1]&&Ye(q,i[1]);const S={};h&1&&(S.chords=i[0]),h&2&&(S.searchString=i[1]),z.$set(S)},i(i){if(!he){L(e.$$.fragment,i);for(let h=0;h<J.length;h+=1)L($[h]);for(let h=0;h<_e.length;h+=1)L(j[h]);L(z.$$.fragment,i),he=!0}},o(i){I(e.$$.fragment,i),$=$.filter(Boolean);for(let h=0;h<$.length;h+=1)I($[h]);for(let h=0;h<j.length;h+=1)I(j[h]);I(z.$$.fragment,i),he=!1},d(i){i&&(_(t),_(l),_(r),_(n),_(A),_(g),_(ge),_(me),_(pe),_(O),_(be),_(ke),_(we),_(R),_($e),_(Ce),_(Le)),le(e,i),Ee($,i),M&&M.d();for(let h=0;h<j.length;h+=1)j[h].d();le(z,i),Oe=!1,ct(Ve)}}}const V=4;function Ht(a,t,s){let{chords:l}=t,e="",r=6,n=[];const c=()=>{r+=4,s(2,n=l.filter(k=>k.creationDate).sort((k,H)=>H.creationDate-k.creationDate).slice(0,r))};let o=[],u=[];const f=()=>{o.length>=l.length-V&&s(3,o=[]);for(let k=0;k<V;k++){let H=-1;for(;H===-1||o.includes(H);)H=Math.floor(Math.random()*l.length);o.push(H)}s(4,u=o.slice(o.length-V).map(k=>l[k]))},A=()=>{o.length<=V||(o.splice(o.length-V),s(4,u=o.slice(o.length-V).map(k=>l[k])))};dt(()=>{f(),c()});const g=()=>c();function w(){e=this.value,s(1,e)}const b=()=>s(1,e="");return a.$$set=k=>{"chords"in k&&s(0,l=k.chords)},[l,e,n,o,u,c,f,A,g,w,b]}class Ot extends fe{constructor(t){super(),ue(this,t,Ht,At,ce,{chords:0})}}function Rt(a){let t,s;return t=new Ot({props:{chords:a[0].chords}}),{c(){Z(t.$$.fragment)},l(l){ee(t.$$.fragment,l)},m(l,e){te(t,l,e),s=!0},p(l,[e]){const r={};e&1&&(r.chords=l[0].chords),t.$set(r)},i(l){s||(L(t.$$.fragment,l),s=!0)},o(l){I(t.$$.fragment,l),s=!1},d(l){le(t,l)}}}function Ut(a,t,s){let{data:l}=t;return a.$$set=e=>{"data"in e&&s(0,l=e.data)},[l]}class Vt extends fe{constructor(t){super(),ue(this,t,Ut,Rt,ce,{data:0})}}export{Vt as component,qt as universal};

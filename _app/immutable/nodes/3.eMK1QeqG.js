import{s as w,f as k,a as g,e as z,g as C,N as P,c as A,h as I,d as u,j as T,i as d,F as b,G as j,r as L,H as M,z as R,l as E,m as O,n as q,O as H}from"../chunks/scheduler.y3xyst7S.js";import{S as K,i as Q}from"../chunks/index.XqTw-nq2.js";import{P as W}from"../chunks/public.Cb4GXYBF.js";import{g as X,t as Y,l as Z,a as $,u as tt}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.foRGy0Ol.js";function et(r){let t,a="Not authenticated";return{c(){t=k("span"),t.textContent=a},l(s){t=C(s,"SPAN",{"data-svelte-h":!0}),P(t)!=="svelte-uji96k"&&(t.textContent=a)},m(s,e){d(s,t,e)},p:L,d(s){s&&u(t)}}}function lt(r){let t,a,s,e,n=r[1].nickname+"",_,h,m=r[1].email+"",p;return{c(){t=k("img"),s=g(),e=k("span"),_=E(n),h=E(" - "),p=E(m),this.h()},l(c){t=C(c,"IMG",{class:!0,alt:!0,src:!0}),s=A(c),e=C(c,"SPAN",{});var i=I(e);_=O(i,n),h=O(i," - "),p=O(i,m),i.forEach(u),this.h()},h(){T(t,"class","user-profile svelte-gy355h"),T(t,"alt","user profile"),H(t.src,a=r[1].picture)||T(t,"src",a)},m(c,i){d(c,t,i),d(c,s,i),d(c,e,i),b(e,_),b(e,h),b(e,p)},p(c,i){i&2&&!H(t.src,a=c[1].picture)&&T(t,"src",a),i&2&&n!==(n=c[1].nickname+"")&&q(_,n),i&2&&m!==(m=c[1].email+"")&&q(p,m)},d(c){c&&(u(t),u(s),u(e))}}}function J(r){let t,a,s=JSON.stringify(r[0])+"",e;return{c(){t=k("div"),a=k("span"),e=E(s)},l(n){t=C(n,"DIV",{});var _=I(t);a=C(_,"SPAN",{});var h=I(a);e=O(h,s),h.forEach(u),_.forEach(u)},m(n,_){d(n,t,_),b(t,a),b(a,e)},p(n,_){_&1&&s!==(s=JSON.stringify(n[0])+"")&&q(e,s)},d(n){n&&u(t)}}}function st(r){let t,a="Authentication",s,e,n,_="Login",h,m,p="API",c,i,D="Logout",B,y,S,N,U,F;function G(l,o){return l[1]?lt:et}let x=G(r),v=x(r),f=r[0]&&J(r);return{c(){t=k("h2"),t.textContent=a,s=g(),e=k("div"),n=k("button"),n.textContent=_,h=g(),m=k("button"),m.textContent=p,c=g(),i=k("button"),i.textContent=D,B=g(),y=k("div"),v.c(),S=g(),f&&f.c(),N=z(),this.h()},l(l){t=C(l,"H2",{"data-svelte-h":!0}),P(t)!=="svelte-19y8rry"&&(t.textContent=a),s=A(l),e=C(l,"DIV",{});var o=I(e);n=C(o,"BUTTON",{"data-svelte-h":!0}),P(n)!=="svelte-trx1dv"&&(n.textContent=_),h=A(o),m=C(o,"BUTTON",{"data-svelte-h":!0}),P(m)!=="svelte-lfefkt"&&(m.textContent=p),c=A(o),i=C(o,"BUTTON",{"data-svelte-h":!0}),P(i)!=="svelte-18viqa5"&&(i.textContent=D),o.forEach(u),B=A(l),y=C(l,"DIV",{class:!0});var V=I(y);v.l(V),V.forEach(u),S=A(l),f&&f.l(l),N=z(),this.h()},h(){T(y,"class","user svelte-gy355h")},m(l,o){d(l,t,o),d(l,s,o),d(l,e,o),b(e,n),b(e,h),b(e,m),b(e,c),b(e,i),d(l,B,o),d(l,y,o),v.m(y,null),d(l,S,o),f&&f.m(l,o),d(l,N,o),U||(F=[j(n,"click",r[3]),j(m,"click",r[4]),j(i,"click",r[5])],U=!0)},p(l,[o]){x===(x=G(l))&&v?v.p(l,o):(v.d(1),v=x(l),v&&(v.c(),v.m(y,null))),l[0]?f?f.p(l,o):(f=J(l),f.c(),f.m(N.parentNode,N)):f&&(f.d(1),f=null)},i:L,o:L,d(l){l&&(u(t),u(s),u(e),u(B),u(y),u(S),u(N)),v.d(),f&&f.d(l),U=!1,M(F)}}}function nt(r,t,a){let s;R(r,tt,p=>a(1,s=p));let e;const n=async()=>{X().then(p=>fetch(W+"/protected",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`}})).then(async p=>{a(0,e=await p.json())}).catch(p=>{a(0,e=p.message),Y.push(e,{theme:{"--toastBarBackground":"#FF0000"}})})};return[e,s,n,()=>Z(),()=>n(),()=>$()]}class ct extends K{constructor(t){super(),Q(this,t,nt,st,w,{})}}export{ct as component};

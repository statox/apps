import{V as x,W as v,X as h,Y as w,Z as a}from"./scheduler.def75234.js";import{g as B,t as C,c as E,a as L}from"./index.a7d56d8a.js";import{w as k}from"./index.a5df25f2.js";function Z(t,e){const c=e.token={};function s(l,r,g,p){if(e.token!==c)return;e.resolved=p;let o=e.ctx;g!==void 0&&(o=o.slice(),o[g]=p);const n=l&&(e.current=l)(o);let f=!1;e.block&&(e.blocks?e.blocks.forEach((b,m)=>{m!==r&&b&&(B(),C(b,1,1,()=>{e.blocks[m]===b&&(e.blocks[m]=null)}),E())}):e.block.d(1),n.c(),L(n,1),n.m(e.mount(),e.anchor),f=!0),e.block=n,e.blocks&&(e.blocks[r]=n),f&&w()}if(x(t)){const l=v();if(t.then(r=>{h(l),s(e.then,1,e.value,r),h(null)},r=>{if(h(l),s(e.catch,2,e.error,r),h(null),!e.hasCatch)throw r}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}}function j(t,e,c){const s=e.slice(),{resolved:l}=t;t.current===t.then&&(s[t.value]=l),t.current===t.catch&&(s[t.error]=l),t.block.p(s,c)}const _=k(!1),d=k(null),u=k([]),i=k(null);function M(t=1){var s,l;const e=a(u).length,c=a(u)[e-1];return a(d)||(s=c==null?void 0:c.callbacks)!=null&&s.onBeforeClose&&((l=c==null?void 0:c.callbacks)==null?void 0:l.onBeforeClose())===!1?!1:(a(_)&&e>0&&d.set(!0),_.set(!1),i.set("pop"),V(t),!0)}function q(){return M(1)}function z(t,e,c){a(d)||(i.set("push"),a(_)&&a(u).length&&d.set(!0),_.set(!1),c!=null&&c.replace?u.update(s=>[...s.slice(0,s.length-1),{component:t,props:e}]):u.update(s=>[...s,{component:t,props:e}]))}function V(t=1){u.update(e=>e.slice(0,Math.max(0,e.length-t)))}export{q as c,_ as e,Z as h,u as m,z as o,d as t,j as u};

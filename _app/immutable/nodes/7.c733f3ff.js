import{s as J,f as k,g as b,h as V,d as v,j as C,i as E,A as F,F as re,a as A,B as R,c as P,D as f,I as ie,l as I,m as L,Q as M,C as j,n as se,E as ce}from"../chunks/scheduler.062eb097.js";import{S as X,i as Y,b as O,d as W,m as G,a as H,t as Q,e as Z}from"../chunks/index.7dd5eebf.js";import{P as he}from"../chunks/P5.4142810a.js";import{e as ae}from"../chunks/each.a3b5a397.js";function ue(o){let e,l,n;return l=new he({props:{sketch:o[0]}}),{c(){e=k("div"),O(l.$$.fragment),this.h()},l(r){e=b(r,"DIV",{id:!0,class:!0});var i=V(e);W(l.$$.fragment,i),i.forEach(v),this.h()},h(){C(e,"id","canvas-container"),C(e,"class","d-flex justify-content-center")},m(r,i){E(r,e,i),G(l,e,null),n=!0},p:F,i(r){n||(H(l.$$.fragment,r),n=!0)},o(r){Q(l.$$.fragment,r),n=!1},d(r){r&&v(e),Z(l)}}}function de(o,e,l){let n,{keptDuration:r}=e,{taps:i}=e,{pause:_}=e;const u=s=>{s.setup=()=>{l(4,n=s),s.createCanvas(600,100)},s.draw=()=>{const d=document.getElementById("canvas-container");if(d){const t=(d==null?void 0:d.clientWidth)||600;s.width!==t&&s.resizeCanvas(t,100);const a=getComputedStyle(document.body),c=a.getPropertyValue("--nc-bg-2")||"white",h=a.getPropertyValue("--nc-tx-1")||"black";s.background(c),s.stroke(h)}const y=Date.now(),g=y-r;for(const t of i){const a=s.map(t,y,g,s.width,0);s.line(a,0,a,s.height)}}};return re(()=>{n==null||n.remove()}),o.$$set=s=>{"keptDuration"in s&&l(1,r=s.keptDuration),"taps"in s&&l(2,i=s.taps),"pause"in s&&l(3,_=s.pause)},o.$$.update=()=>{o.$$.dirty&24&&(_?n==null||n.noLoop():n==null||n.loop())},[u,r,i,_,n]}class fe extends X{constructor(e){super(),Y(this,e,de,ue,J,{keptDuration:1,taps:2,pause:3})}}function oe(o,e,l){const n=o.slice();return n[4]=e[l],n}function le(o){let e,l=o[3](o[4])+"",n,r,i,_=o[4].name+"",u,s,d,y=o[4].description+"",g;return{c(){e=k("span"),n=I(l),r=A(),i=k("span"),u=I(_),s=A(),d=k("span"),g=I(y),this.h()},l(t){e=b(t,"SPAN",{class:!0});var a=V(e);n=L(a,l),a.forEach(v),r=P(t),i=b(t,"SPAN",{class:!0});var c=V(i);u=L(c,_),c.forEach(v),s=P(t),d=b(t,"SPAN",{class:!0});var h=V(d);g=L(h,y),h.forEach(v),this.h()},h(){C(e,"class","col svelte-1kxd0qm"),M(e,"selected",o[2](o[0],o[4])),C(i,"class","col svelte-1kxd0qm"),M(i,"selected",o[2](o[0],o[4])),C(d,"class","col svelte-1kxd0qm"),M(d,"selected",o[2](o[0],o[4]))},m(t,a){E(t,e,a),f(e,n),E(t,r,a),E(t,i,a),f(i,u),E(t,s,a),E(t,d,a),f(d,g)},p(t,a){a&7&&M(e,"selected",t[2](t[0],t[4])),a&7&&M(i,"selected",t[2](t[0],t[4])),a&7&&M(d,"selected",t[2](t[0],t[4]))},d(t){t&&(v(e),v(r),v(i),v(s),v(d))}}}function me(o){let e,l,n="BPM",r,i,_="Tempo",u,s,d="Description",y,g=ae(o[1]),t=[];for(let a=0;a<g.length;a+=1)t[a]=le(oe(o,g,a));return{c(){e=k("div"),l=k("span"),l.textContent=n,r=A(),i=k("span"),i.textContent=_,u=A(),s=k("span"),s.textContent=d,y=A();for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var c=V(e);l=b(c,"SPAN",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-cdp0q5"&&(l.textContent=n),r=P(c),i=b(c,"SPAN",{class:!0,"data-svelte-h":!0}),R(i)!=="svelte-1lklpwv"&&(i.textContent=_),u=P(c),s=b(c,"SPAN",{class:!0,"data-svelte-h":!0}),R(s)!=="svelte-df2g4a"&&(s.textContent=d),y=P(c);for(let h=0;h<t.length;h+=1)t[h].l(c);c.forEach(v),this.h()},h(){C(l,"class","col table-head svelte-1kxd0qm"),C(i,"class","col table-head svelte-1kxd0qm"),C(s,"class","col table-head svelte-1kxd0qm"),C(e,"class","container svelte-1kxd0qm")},m(a,c){E(a,e,c),f(e,l),f(e,r),f(e,i),f(e,u),f(e,s),f(e,y);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null)},p(a,[c]){if(c&15){g=ae(a[1]);let h;for(h=0;h<g.length;h+=1){const x=oe(a,g,h);t[h]?t[h].p(x,c):(t[h]=le(x),t[h].c(),t[h].m(e,null))}for(;h<t.length;h+=1)t[h].d(1);t.length=g.length}},i:F,o:F,d(a){a&&v(e),ie(t,a)}}}function pe(o,e,l){let{currentBpm:n}=e;const r=[{name:"Larghissimo",description:"Extremely slow, slowest type of tempo",high:24},{name:"Adagissimo and Grave",description:"Very slow, very slow and solemn",low:24,high:40},{name:"Largo",description:"Slow and broad",low:40,high:66},{name:"Larghetto",description:"Rather slow and broad",low:44,high:66},{name:"Adagio",description:"Slow with great expression",low:44,high:68},{name:"Adagietto",description:"Slower than andante or slightly faster than adagio",low:46,high:80},{name:"Lento",description:"Slow",low:52,high:108},{name:"Andante",description:"At a walking pace, moderately slow",low:56,high:108},{name:"Andantino",description:"Slightly faster than andante, but slower than moderato (although, in some cases, it can be taken to mean slightly slower than andante)",low:80,high:108},{name:"Andante moderato",description:"Between andante and moderato (at a moderate walking speed)",low:80,high:108},{name:"Moderato",description:"At a moderate speed",low:108,high:120},{name:"Allegretto",description:"By the mid-19th century, moderately fast",low:112,high:120},{name:"Allegro moderato",description:"Close to, but not quite allegro",low:116,high:120},{name:"Allegro",description:"Fast and bright",low:120,high:156},{name:"Molto Allegro or Allegro vivace",description:"At least slightly faster and livelier than allegro, but always at its range (and no faster than vivace)",low:124,high:156},{name:"Vivace",description:"Lively and fast",low:156,high:176},{name:"Vivacissimo and Allegrissimo",description:"Very fast, lively and bright",low:172,high:176},{name:"Presto",description:"Very fast",low:168,high:200},{name:"Prestissimo",description:"Extremely fast (At this tempo, cut common time is often used)",low:200}],i=(u,s)=>u>(s.low??0)&&u<=(s.high??9999),_=u=>{if(u.high&&u.low)return`${u.low} - ${u.high}`;if(u.low)return`>${u.low}`;if(u.high)return`<${u.high}`};return o.$$set=u=>{"currentBpm"in u&&l(0,n=u.currentBpm)},[n,r,i,_]}class ge extends X{constructor(e){super(),Y(this,e,pe,me,J,{currentBpm:0})}}function we(o){let e,l="Tap Tempo",n,r,i,_="Press the space bar or click/tap anywhere on the page to get a bpm.",u,s,d,y,g,t,a,c,h="Reset (c)",x,S,K=o[3]?"Play":"Pause",w,B,T,D,U,$,N,ee,ne;return D=new fe({props:{taps:o[0],keptDuration:o[4],pause:o[3]}}),$=new ge({props:{currentBpm:o[2]}}),{c(){e=k("h3"),e.textContent=l,n=A(),r=k("div"),i=k("div"),i.textContent=_,u=A(),s=k("div"),d=I(o[2]),y=k("br"),g=I("BPM"),t=A(),a=k("div"),c=k("button"),c.textContent=h,x=A(),S=k("button"),w=I(K),B=I(" (Enter)"),T=A(),O(D.$$.fragment),U=A(),O($.$$.fragment),this.h()},l(m){e=b(m,"H3",{"data-svelte-h":!0}),R(e)!=="svelte-zwchjg"&&(e.textContent=l),n=P(m),r=b(m,"DIV",{class:!0});var p=V(r);i=b(p,"DIV",{"data-svelte-h":!0}),R(i)!=="svelte-zyjs4h"&&(i.textContent=_),u=P(p),s=b(p,"DIV",{class:!0});var q=V(s);d=L(q,o[2]),y=b(q,"BR",{}),g=L(q,"BPM"),q.forEach(v),t=P(p),a=b(p,"DIV",{class:!0});var z=V(a);c=b(z,"BUTTON",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-5hccmf"&&(c.textContent=h),x=P(z),S=b(z,"BUTTON",{class:!0});var te=V(S);w=L(te,K),B=L(te," (Enter)"),te.forEach(v),z.forEach(v),T=P(p),W(D.$$.fragment,p),U=P(p),W($.$$.fragment,p),p.forEach(v),this.h()},h(){C(s,"class","bpm svelte-x28zb1"),M(s,"tapped",o[1]),C(c,"class","control-button svelte-x28zb1"),C(S,"class","control-button svelte-x28zb1"),C(a,"class","controls svelte-x28zb1"),C(r,"class","container svelte-x28zb1")},m(m,p){E(m,e,p),E(m,n,p),E(m,r,p),f(r,i),f(r,u),f(r,s),f(s,d),f(s,y),f(s,g),f(r,t),f(r,a),f(a,c),f(a,x),f(a,S),f(S,w),f(S,B),f(r,T),G(D,r,null),f(r,U),G($,r,null),N=!0,ee||(ne=[j(window,"keydown",o[7]),j(window,"keyup",o[8]),j(window,"pointerdown",o[6]),j(c,"click",o[5]),j(S,"click",o[9])],ee=!0)},p(m,[p]){(!N||p&4)&&se(d,m[2]),(!N||p&2)&&M(s,"tapped",m[1]),(!N||p&8)&&K!==(K=m[3]?"Play":"Pause")&&se(w,K);const q={};p&1&&(q.taps=m[0]),p&8&&(q.pause=m[3]),D.$set(q);const z={};p&4&&(z.currentBpm=m[2]),$.$set(z)},i(m){N||(H(D.$$.fragment,m),H($.$$.fragment,m),N=!0)},o(m){Q(D.$$.fragment,m),Q($.$$.fragment,m),N=!1},d(m){m&&(v(e),v(n),v(r)),Z(D),Z($),ee=!1,ce(ne)}}}function ve(o,e,l){let n=[],i=!1,_=0;const u=()=>{l(0,n=[]),l(2,_=0),d=0},s=()=>{const w=Date.now();for(n.push(Date.now());n.length&&n[0]<w-15e3;)n.shift();l(0,n),l(1,i=!0),setTimeout(()=>l(1,i=!1),100),a()};let d=0,y=0,g=0,t=0;const a=()=>{if(c)return;const w=Date.now();d===0&&(g=w,t=0),d=w;const B=w-y;y=d;const T=d-g;T!==0&&l(2,_=Math.round(6e4*t/T)),t++,B>3e3&&(d=0)};let c=!1,h=!0;return[n,i,_,c,15e3,u,s,w=>{const B=" ",T="Enter",D="c";if([B,T,D].includes(w.key)&&(w.preventDefault(),!!h)){if(h=!1,w.key===B){l(3,c=!1),s();return}if(w.key===T){l(3,c=!c);return}w.key===D&&u()}},w=>{const B=" ";!h&&w.key===B&&(h=!0,w.preventDefault())},()=>l(3,c=!c)]}class _e extends X{constructor(e){super(),Y(this,e,ve,we,J,{})}}function ye(o){let e,l;return e=new _e({}),{c(){O(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,r){G(e,n,r),l=!0},p:F,i(n){l||(H(e.$$.fragment,n),l=!0)},o(n){Q(e.$$.fragment,n),l=!1},d(n){Z(e,n)}}}class Ae extends X{constructor(e){super(),Y(this,e,null,ye,J,{})}}export{Ae as component};

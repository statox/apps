import{s as me,f as g,a as P,l as Y,g as v,u as X,c as S,h as O,d as _,m as Z,j as F,O as ee,i as E,y as d,P as G,M as te,n as ge,z,E as le,Q as ve,L as ae,R as ne}from"../chunks/scheduler.11d62034.js";import{S as pe,i as de,b as Ee,d as Ce,m as be,a as Le,t as Ie,e as Pe}from"../chunks/index.ec572ff7.js";import{e as R}from"../chunks/each.8c454f5c.js";function re(n,t,o){const a=n.slice();return a[2]=t[o],a}function ce(n,t,o){const a=n.slice();return a[1]=t[o],a}function _e(n,t,o){const a=n.slice();return a[14]=t[o],a}function fe(n){let t,o=n[14]+"",a,r;return{c(){t=g("option"),a=Y(o),r=P(),this.h()},l(s){t=v(s,"OPTION",{});var c=O(t);a=Z(c,o),r=S(c),c.forEach(_),this.h()},h(){t.__value=n[14],ae(t,t.__value)},m(s,c){E(s,t,c),d(t,a),d(t,r)},p:z,d(s){s&&_(t)}}}function he(n){let t,o=n[1].name+"",a,r;return{c(){t=g("option"),a=Y(o),r=P(),this.h()},l(s){t=v(s,"OPTION",{});var c=O(t);a=Z(c,o),r=S(c),c.forEach(_),this.h()},h(){t.__value=n[1],ae(t,t.__value)},m(s,c){E(s,t,c),d(t,a),d(t,r)},p:z,d(s){s&&_(t)}}}function ue(n){let t,o=n[2].name+"",a,r;return{c(){t=g("option"),a=Y(o),r=P(),this.h()},l(s){t=v(s,"OPTION",{});var c=O(t);a=Z(c,o),r=S(c),c.forEach(_),this.h()},h(){t.__value=n[2],ae(t,t.__value)},m(s,c){E(s,t,c),d(t,a),d(t,r)},p:z,d(s){s&&_(t)}}}function Se(n){let t,o="Scales",a,r,s,c="Tonic",T,p,w,A,N,J="Scale",j,C,M,k,b,H="mode",B,m,K,U,V,Q=n[6](n[0],n[1],n[2]).join(" ")+"",y,x,oe,$=R(n[3]),f=[];for(let e=0;e<$.length;e+=1)f[e]=fe(_e(n,$,e));let D=R(n[4]),h=[];for(let e=0;e<D.length;e+=1)h[e]=he(ce(n,D,e));let q=R(n[5]),u=[];for(let e=0;e<q.length;e+=1)u[e]=ue(re(n,q,e));return{c(){t=g("h2"),t.textContent=o,a=P(),r=g("span"),s=g("label"),s.textContent=c,T=P(),p=g("select");for(let e=0;e<f.length;e+=1)f[e].c();w=P(),A=g("span"),N=g("label"),N.textContent=J,j=P(),C=g("select");for(let e=0;e<h.length;e+=1)h[e].c();M=P(),k=g("span"),b=g("label"),b.textContent=H,B=P(),m=g("select");for(let e=0;e<u.length;e+=1)u[e].c();K=P(),U=g("br"),V=P(),y=Y(Q),this.h()},l(e){t=v(e,"H2",{"data-svelte-h":!0}),X(t)!=="svelte-b2sc71"&&(t.textContent=o),a=S(e),r=v(e,"SPAN",{});var i=O(r);s=v(i,"LABEL",{for:!0,"data-svelte-h":!0}),X(s)!=="svelte-n599bs"&&(s.textContent=c),T=S(i),p=v(i,"SELECT",{id:!0});var l=O(p);for(let I=0;I<f.length;I+=1)f[I].l(l);l.forEach(_),i.forEach(_),w=S(e),A=v(e,"SPAN",{});var L=O(A);N=v(L,"LABEL",{for:!0,"data-svelte-h":!0}),X(N)!=="svelte-jc9lqs"&&(N.textContent=J),j=S(L),C=v(L,"SELECT",{id:!0});var se=O(C);for(let I=0;I<h.length;I+=1)h[I].l(se);se.forEach(_),L.forEach(_),M=S(e),k=v(e,"SPAN",{});var W=O(k);b=v(W,"LABEL",{for:!0,"data-svelte-h":!0}),X(b)!=="svelte-lnw5rg"&&(b.textContent=H),B=S(W),m=v(W,"SELECT",{id:!0});var ie=O(m);for(let I=0;I<u.length;I+=1)u[I].l(ie);ie.forEach(_),W.forEach(_),K=S(e),U=v(e,"BR",{}),V=S(e),y=Z(e,Q),this.h()},h(){F(s,"for","tonicInput"),F(p,"id","tonicInput"),n[0]===void 0&&ee(()=>n[7].call(p)),F(N,"for","scaleInput"),F(C,"id","scaleInput"),n[1]===void 0&&ee(()=>n[8].call(C)),F(b,"for","modeInput"),F(m,"id","modeInput"),n[2]===void 0&&ee(()=>n[9].call(m))},m(e,i){E(e,t,i),E(e,a,i),E(e,r,i),d(r,s),d(r,T),d(r,p);for(let l=0;l<f.length;l+=1)f[l]&&f[l].m(p,null);G(p,n[0],!0),E(e,w,i),E(e,A,i),d(A,N),d(A,j),d(A,C);for(let l=0;l<h.length;l+=1)h[l]&&h[l].m(C,null);G(C,n[1],!0),E(e,M,i),E(e,k,i),d(k,b),d(k,B),d(k,m);for(let l=0;l<u.length;l+=1)u[l]&&u[l].m(m,null);G(m,n[2],!0),E(e,K,i),E(e,U,i),E(e,V,i),E(e,y,i),x||(oe=[te(p,"change",n[7]),te(C,"change",n[8]),te(m,"change",n[9])],x=!0)},p(e,[i]){if(i&8){$=R(e[3]);let l;for(l=0;l<$.length;l+=1){const L=_e(e,$,l);f[l]?f[l].p(L,i):(f[l]=fe(L),f[l].c(),f[l].m(p,null))}for(;l<f.length;l+=1)f[l].d(1);f.length=$.length}if(i&9&&G(p,e[0]),i&16){D=R(e[4]);let l;for(l=0;l<D.length;l+=1){const L=ce(e,D,l);h[l]?h[l].p(L,i):(h[l]=he(L),h[l].c(),h[l].m(C,null))}for(;l<h.length;l+=1)h[l].d(1);h.length=D.length}if(i&18&&G(C,e[1]),i&32){q=R(e[5]);let l;for(l=0;l<q.length;l+=1){const L=re(e,q,l);u[l]?u[l].p(L,i):(u[l]=ue(L),u[l].c(),u[l].m(m,null))}for(;l<u.length;l+=1)u[l].d(1);u.length=q.length}i&36&&G(m,e[2]),i&7&&Q!==(Q=e[6](e[0],e[1],e[2]).join(" ")+"")&&ge(y,Q)},i:z,o:z,d(e){e&&(_(t),_(a),_(r),_(w),_(A),_(M),_(k),_(K),_(U),_(V),_(y)),le(f,e),le(h,e),le(u,e),x=!1,ve(oe)}}}function Ae(n,t,o){const a=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],r=[{name:"Major",intervals:[2,2,1,2,2,2,1]},{name:"Natural minor",intervals:[2,1,2,2,1,2,2]},{name:"Pentatonic major",intervals:[2,2,3,2,3]},{name:"Pentatonic minor",intervals:[3,2,2,3,2]}],s=[{name:"Ionian",degree:1},{name:"Dorian",degree:2},{name:"Phrygian",degree:3},{name:"Lydian",degree:4},{name:"Mixolydian",degree:5},{name:"Aeolian",degree:6},{name:"Locrian",degree:7}];let c="C",T=r[0],p=s[0];const w=(j,C,M)=>{const{intervals:k}=C,b=[j],H=a.indexOf(j);if(H===-1)throw new Error(`Tonic ${j} not found`);let B=H;for(const m of k)B=(B+m)%a.length,b.push(a[B]);b.pop();for(let m=1;m<M.degree;m++)b.push(b.shift());return b};function A(){c=ne(this),o(0,c),o(3,a)}function N(){T=ne(this),o(1,T),o(4,r)}function J(){p=ne(this),o(2,p),o(5,s)}return[c,T,p,a,r,s,w,A,N,J]}class ke extends pe{constructor(t){super(),de(this,t,Ae,Se,me,{})}}function Ne(n){let t,o;return t=new ke({}),{c(){Ee(t.$$.fragment)},l(a){Ce(t.$$.fragment,a)},m(a,r){be(t,a,r),o=!0},p:z,i(a){o||(Le(t.$$.fragment,a),o=!0)},o(a){Ie(t.$$.fragment,a),o=!1},d(a){Pe(t,a)}}}class Be extends pe{constructor(t){super(),de(this,t,null,Ne,me,{})}}export{Be as component};

import{s as yt,B as de,f as p,g as v,u as V,j as I,C as Jt,i as w,D as tt,z as at,d as h,E as ue,l as W,a as L,h as S,m as Z,c as y,F as me,y as m,G as Kt,n as ge,H as Nt,o as pe,e as Lt}from"../chunks/scheduler.aea6863f.js";import{S as Et,i as St,b as ft,d as ut,m as ht,a as E,g as st,c as rt,t as M,e as _t}from"../chunks/index.8e0c7531.js";import{e as q,u as ve,o as be}from"../chunks/each.59b656ec.js";const ke=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,we="https://raw.githubusercontent.com/statox/blog/master/src/_data/chords.json",Ce=async()=>({chords:await fetch(we).then(e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})}),Ne=Object.freeze(Object.defineProperty({__proto__:null,load:Ce},Symbol.toStringTag,{value:"Module"})),Te=(a,e)=>a<e?-1:a>e?1:0,Qt=(a,e)=>{const n=a.toLowerCase(),l=e.toLowerCase();return Te(n,l)};const{clearTimeout:Wt,setTimeout:Zt,window:Ut}=ke;function $e(a){let e=!1,n=()=>{e=!1},l,t,s='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" class="svelte-1na7s3f"><path d="M12 6H0l6-6z"></path></svg> <span class="screen-reader-text svelte-1na7s3f">Back to top</span>',r,u;return de(a[3]),{c(){t=p("button"),t.innerHTML=s,this.h()},l(f){t=v(f,"BUTTON",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-1jtddcb"&&(t.innerHTML=s),this.h()},h(){I(t,"class","top-link svelte-1na7s3f"),Jt(t,"hide",a[1])},m(f,d){w(f,t,d),r||(u=[tt(Ut,"scroll",()=>{e=!0,Wt(l),l=Zt(n,100),a[3]()}),tt(t,"click",a[2])],r=!0)},p(f,[d]){d&1&&!e&&(e=!0,Wt(l),scrollTo(Ut.pageXOffset,f[0]),l=Zt(n,100)),d&2&&Jt(t,"hide",f[1])},i:at,o:at,d(f){f&&h(t),r=!1,ue(u)}}}function Le(a,e,n){let l,t=!0,s;const r=d=>{d>0?n(1,t=!1):n(1,t=!0),s&&clearTimeout(s),s=setTimeout(()=>{n(1,t=!0)},3e3)},u=()=>{const d=document.documentElement.scrollTop||document.body.scrollTop;d>0&&(window.requestAnimationFrame(u),window.scrollTo(0,d-d/2))};function f(){n(0,l=Ut.pageYOffset)}return a.$$.update=()=>{a.$$.dirty&1&&r(l)},[l,t,u,f]}let ye=class extends Et{constructor(e){super(),St(this,e,Le,$e,yt,{})}};function Ee(a){let e,n,l,t,s,r;return{c(){e=p("span"),n=p("a"),l=W(a[1]),s=L(),r=p("span"),this.h()},l(u){e=v(u,"SPAN",{});var f=S(e);n=v(f,"A",{href:!0,target:!0,rel:!0});var d=S(n);l=Z(d,a[1]),d.forEach(h),f.forEach(h),s=y(u),r=v(u,"SPAN",{class:!0}),S(r).forEach(h),this.h()},h(){I(n,"href",t=a[0].url),I(n,"target","_blank"),I(n,"rel","noopener noreferrer"),I(r,"class",me(a[2])+" svelte-1ew26co")},m(u,f){w(u,e,f),m(e,n),m(n,l),w(u,s,f),w(u,r,f)},p(u,[f]){f&1&&t!==(t=u[0].url)&&I(n,"href",t)},i:at,o:at,d(u){u&&(h(e),h(s),h(r))}}}function Se(a,e,n){let{chord:l}=e,{showArtist:t=!1}=e;const s=(t?l.artist+" - ":"")+l.title;let u=(f=>{const d=f.url;return d.includes(".doc")?"fas fa-xs fa-file-word":d.includes(".pdf")?"fas fa-xs fa-file-pdf":d.includes("youtube")?"fa fa-xs fa-youtube":"fas fa-xs fa-link"})(l);return a.$$set=f=>{"chord"in f&&n(0,l=f.chord),"showArtist"in f&&n(3,t=f.showArtist)},[l,s,u,t]}class Dt extends Et{constructor(e){super(),St(this,e,Se,Ee,yt,{chord:0,showArtist:3})}}function te(a,e,n){const l=a.slice();l[13]=e[n];const t=l[8][l[13]].sort((r,u)=>r.title<u.title?-1:1);l[0]=t;const s=l[13]+";"+l[0].reduce((r,u)=>r+u.title+";"+u.tags.join(","),"");return l[14]=s,l}function ee(a,e,n){const l=a.slice();l[17]=e[n];const t=l[13]+";"+l[17].title+";"+l[17].tags.join(",");return l[18]=t,l}function le(a,e,n){const l=a.slice();return l[17]=e[n],l}function ne(a,e,n){const l=a.slice();return l[17]=e[n],l}function oe(a){let e,n,l,t;return n=new Dt({props:{chord:a[17]}}),{c(){e=p("li"),ft(n.$$.fragment),l=L(),this.h()},l(s){e=v(s,"LI",{class:!0});var r=S(e);ut(n.$$.fragment,r),l=y(r),r.forEach(h),this.h()},h(){I(e,"class","ul2col-item svelte-e2ukjt")},m(s,r){w(s,e,r),ht(n,e,null),m(e,l),t=!0},p(s,r){const u={};r&4&&(u.chord=s[17]),n.$set(u)},i(s){t||(E(n.$$.fragment,s),t=!0)},o(s){M(n.$$.fragment,s),t=!1},d(s){s&&h(e),_t(n)}}}function se(a){let e,n=" ↶ ",l,t;return{c(){e=p("button"),e.textContent=n},l(s){e=v(s,"BUTTON",{"data-svelte-h":!0}),V(e)!=="svelte-1mg1zky"&&(e.textContent=n)},m(s,r){w(s,e,r),l||(t=tt(e,"click",a[7]),l=!0)},p:at,d(s){s&&h(e),l=!1,t()}}}function re(a,e){let n,l,t,s;return l=new Dt({props:{chord:e[17],showArtist:!0}}),{key:a,first:null,c(){n=p("li"),ft(l.$$.fragment),t=L(),this.h()},l(r){n=v(r,"LI",{class:!0});var u=S(n);ut(l.$$.fragment,u),t=y(u),u.forEach(h),this.h()},h(){I(n,"class","ul2col-item svelte-e2ukjt"),this.first=n},m(r,u){w(r,n,u),ht(l,n,null),m(n,t),s=!0},p(r,u){e=r;const f={};u&16&&(f.chord=e[17]),l.$set(f)},i(r){s||(E(l.$$.fragment,r),s=!0)},o(r){M(l.$$.fragment,r),s=!1},d(r){r&&h(n),_t(l)}}}function ae(a){let e,n,l=a[13]+"",t,s,r,u,f,d=q(a[0]),g=[];for(let _=0;_<d.length;_+=1)g[_]=ce(ee(a,d,_));const P=_=>M(g[_],1,1,()=>{g[_]=null});return{c(){e=p("tr"),n=p("td"),t=W(l),s=L(),r=p("ul");for(let _=0;_<g.length;_+=1)g[_].c();u=L(),this.h()},l(_){e=v(_,"TR",{});var C=S(e);n=v(C,"TD",{});var b=S(n);t=Z(b,l),s=y(b),r=v(b,"UL",{class:!0});var O=S(r);for(let k=0;k<g.length;k+=1)g[k].l(O);O.forEach(h),b.forEach(h),u=y(C),C.forEach(h),this.h()},h(){I(r,"class","ul2col-container svelte-e2ukjt")},m(_,C){w(_,e,C),m(e,n),m(n,t),m(n,s),m(n,r);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(r,null);m(e,u),f=!0},p(_,C){if(C&258){d=q(_[0]);let b;for(b=0;b<d.length;b+=1){const O=ee(_,d,b);g[b]?(g[b].p(O,C),E(g[b],1)):(g[b]=ce(O),g[b].c(),E(g[b],1),g[b].m(r,null))}for(st(),b=d.length;b<g.length;b+=1)P(b);rt()}},i(_){if(!f){for(let C=0;C<d.length;C+=1)E(g[C]);f=!0}},o(_){g=g.filter(Boolean);for(let C=0;C<g.length;C+=1)M(g[C]);f=!1},d(_){_&&h(e),Nt(g,_)}}}function ie(a){let e,n,l,t;return n=new Dt({props:{chord:a[17]}}),{c(){e=p("li"),ft(n.$$.fragment),l=L(),this.h()},l(s){e=v(s,"LI",{class:!0});var r=S(e);ut(n.$$.fragment,r),l=y(r),r.forEach(h),this.h()},h(){I(e,"class","ul2col-item svelte-e2ukjt")},m(s,r){w(s,e,r),ht(n,e,null),m(e,l),t=!0},p:at,i(s){t||(E(n.$$.fragment,s),t=!0)},o(s){M(n.$$.fragment,s),t=!1},d(s){s&&h(e),_t(n)}}}function ce(a){let e=a[1].length===0||a[18].toLowerCase().match(a[1].toLowerCase()),n,l,t=e&&ie(a);return{c(){t&&t.c(),n=Lt()},l(s){t&&t.l(s),n=Lt()},m(s,r){t&&t.m(s,r),w(s,n,r),l=!0},p(s,r){r&2&&(e=s[1].length===0||s[18].toLowerCase().match(s[1].toLowerCase())),e?t?(t.p(s,r),r&2&&E(t,1)):(t=ie(s),t.c(),E(t,1),t.m(n.parentNode,n)):t&&(st(),M(t,1,1,()=>{t=null}),rt())},i(s){l||(E(t),l=!0)},o(s){M(t),l=!1},d(s){s&&h(n),t&&t.d(s)}}}function fe(a){let e=a[1].length===0||a[14].toLowerCase().match(a[1].toLowerCase()),n,l,t=e&&ae(a);return{c(){t&&t.c(),n=Lt()},l(s){t&&t.l(s),n=Lt()},m(s,r){t&&t.m(s,r),w(s,n,r),l=!0},p(s,r){r&2&&(e=s[1].length===0||s[14].toLowerCase().match(s[1].toLowerCase())),e?t?(t.p(s,r),r&2&&E(t,1)):(t=ae(s),t.c(),E(t,1),t.m(n.parentNode,n)):t&&(st(),M(t,1,1,()=>{t=null}),rt())},i(s){l||(E(t),l=!0)},o(s){M(t),l=!1},d(s){s&&h(n),t&&t.d(s)}}}function Be(a){let e,n=`Chords
    <a class="pull-right" href="https://github.com/statox/blog/issues/105#new_comment_field" target="_blank" rel="noopener noreferrer"><button>Add a song</button></a>`,l,t,s,r,u,f=a[0].length+"",d,g,P,_,C,b="Latest additions",O,k,H,R,Pt="More...",dt,mt,gt,N,et,Bt,D,pt,G,xt="Get more random songs",Mt,jt,It,X,j=[],zt=new Map,vt,bt,kt,U,lt,Vt="All chords",Ht,x,Ot,Y,qt=" ✖ ",wt,Ct,Tt,J,it,Rt,Ft;t=new ye({});let K=q(a[2]),T=[];for(let o=0;o<K.length;o+=1)T[o]=oe(ne(a,K,o));const he=o=>M(T[o],1,1,()=>{T[o]=null});let B=a[3].length>F&&se(a),ct=q(a[4]);const Gt=o=>o[17].title;for(let o=0;o<ct.length;o+=1){let i=le(a,ct,o),c=Gt(i);zt.set(c,j[o]=re(c,i))}let Q=q(Object.keys(a[8]).sort(Qt)),$=[];for(let o=0;o<Q.length;o+=1)$[o]=fe(te(a,Q,o));const _e=o=>M($[o],1,1,()=>{$[o]=null});return{c(){e=p("h2"),e.innerHTML=n,l=L(),ft(t.$$.fragment),s=L(),r=p("p"),u=W("This is a list of "),d=W(f),g=W(" song chords I have been gathering for the past 10 years and that I like to play."),P=L(),_=p("div"),C=p("h3"),C.textContent=b,O=L(),k=p("ul");for(let o=0;o<T.length;o+=1)T[o].c();H=L(),R=p("button"),R.textContent=Pt,dt=L(),mt=p("br"),gt=L(),N=p("div"),et=p("h3"),Bt=W(`Random song
        `),D=p("span"),B&&B.c(),pt=L(),G=p("button"),G.textContent=xt,Mt=L(),jt=p("br"),It=L(),X=p("ul");for(let o=0;o<j.length;o+=1)j[o].c();vt=L(),bt=p("br"),kt=L(),U=p("div"),lt=p("h3"),lt.textContent=Vt,Ht=W(`
    Search an artist or a title: `),x=p("input"),Ot=L(),Y=p("button"),Y.textContent=qt,wt=L(),Ct=p("br"),Tt=L(),J=p("table");for(let o=0;o<$.length;o+=1)$[o].c();this.h()},l(o){e=v(o,"H2",{"data-svelte-h":!0}),V(e)!=="svelte-lm7oxu"&&(e.innerHTML=n),l=y(o),ut(t.$$.fragment,o),s=y(o),r=v(o,"P",{});var i=S(r);u=Z(i,"This is a list of "),d=Z(i,f),g=Z(i," song chords I have been gathering for the past 10 years and that I like to play."),i.forEach(h),P=y(o),_=v(o,"DIV",{});var c=S(_);C=v(c,"H3",{"data-svelte-h":!0}),V(C)!=="svelte-1xn6y62"&&(C.textContent=b),O=y(c),k=v(c,"UL",{class:!0});var z=S(k);for(let A=0;A<T.length;A+=1)T[A].l(z);z.forEach(h),H=y(c),R=v(c,"BUTTON",{"data-svelte-h":!0}),V(R)!=="svelte-hbensu"&&(R.textContent=Pt),c.forEach(h),dt=y(o),mt=v(o,"BR",{}),gt=y(o),N=v(o,"DIV",{});var nt=S(N);et=v(nt,"H3",{});var At=S(et);Bt=Z(At,`Random song
        `),D=v(At,"SPAN",{class:!0});var $t=S(D);B&&B.l($t),pt=y($t),G=v($t,"BUTTON",{"data-svelte-h":!0}),V(G)!=="svelte-1gfm3kd"&&(G.textContent=xt),$t.forEach(h),At.forEach(h),Mt=y(nt),jt=v(nt,"BR",{}),It=y(nt),X=v(nt,"UL",{class:!0});var Xt=S(X);for(let A=0;A<j.length;A+=1)j[A].l(Xt);Xt.forEach(h),nt.forEach(h),vt=y(o),bt=v(o,"BR",{}),kt=y(o),U=v(o,"DIV",{});var ot=S(U);lt=v(ot,"H3",{"data-svelte-h":!0}),V(lt)!=="svelte-1drf88u"&&(lt.textContent=Vt),Ht=Z(ot,`
    Search an artist or a title: `),x=v(ot,"INPUT",{type:!0}),Ot=y(ot),Y=v(ot,"BUTTON",{"data-svelte-h":!0}),V(Y)!=="svelte-y0fatm"&&(Y.textContent=qt),ot.forEach(h),wt=y(o),Ct=v(o,"BR",{}),Tt=y(o),J=v(o,"TABLE",{});var Yt=S(J);for(let A=0;A<$.length;A+=1)$[A].l(Yt);Yt.forEach(h),this.h()},h(){I(k,"class","ul2col-container svelte-e2ukjt"),I(D,"class","pull-right"),I(X,"class","ul2col-container svelte-e2ukjt"),I(x,"type","text")},m(o,i){w(o,e,i),w(o,l,i),ht(t,o,i),w(o,s,i),w(o,r,i),m(r,u),m(r,d),m(r,g),w(o,P,i),w(o,_,i),m(_,C),m(_,O),m(_,k);for(let c=0;c<T.length;c+=1)T[c]&&T[c].m(k,null);m(_,H),m(_,R),w(o,dt,i),w(o,mt,i),w(o,gt,i),w(o,N,i),m(N,et),m(et,Bt),m(et,D),B&&B.m(D,null),m(D,pt),m(D,G),m(N,Mt),m(N,jt),m(N,It),m(N,X);for(let c=0;c<j.length;c+=1)j[c]&&j[c].m(X,null);w(o,vt,i),w(o,bt,i),w(o,kt,i),w(o,U,i),m(U,lt),m(U,Ht),m(U,x),Kt(x,a[1]),m(U,Ot),m(U,Y),w(o,wt,i),w(o,Ct,i),w(o,Tt,i),w(o,J,i);for(let c=0;c<$.length;c+=1)$[c]&&$[c].m(J,null);it=!0,Rt||(Ft=[tt(R,"click",a[9]),tt(G,"click",a[6]),tt(x,"input",a[10]),tt(Y,"click",a[11])],Rt=!0)},p(o,[i]){if((!it||i&1)&&f!==(f=o[0].length+"")&&ge(d,f),i&4){K=q(o[2]);let c;for(c=0;c<K.length;c+=1){const z=ne(o,K,c);T[c]?(T[c].p(z,i),E(T[c],1)):(T[c]=oe(z),T[c].c(),E(T[c],1),T[c].m(k,null))}for(st(),c=K.length;c<T.length;c+=1)he(c);rt()}if(o[3].length>F?B?B.p(o,i):(B=se(o),B.c(),B.m(D,pt)):B&&(B.d(1),B=null),i&16&&(ct=q(o[4]),st(),j=ve(j,i,Gt,1,o,ct,zt,X,be,re,null,le),rt()),i&2&&x.value!==o[1]&&Kt(x,o[1]),i&258){Q=q(Object.keys(o[8]).sort(Qt));let c;for(c=0;c<Q.length;c+=1){const z=te(o,Q,c);$[c]?($[c].p(z,i),E($[c],1)):($[c]=fe(z),$[c].c(),E($[c],1),$[c].m(J,null))}for(st(),c=Q.length;c<$.length;c+=1)_e(c);rt()}},i(o){if(!it){E(t.$$.fragment,o);for(let i=0;i<K.length;i+=1)E(T[i]);for(let i=0;i<ct.length;i+=1)E(j[i]);for(let i=0;i<Q.length;i+=1)E($[i]);it=!0}},o(o){M(t.$$.fragment,o),T=T.filter(Boolean);for(let i=0;i<T.length;i+=1)M(T[i]);for(let i=0;i<j.length;i+=1)M(j[i]);$=$.filter(Boolean);for(let i=0;i<$.length;i+=1)M($[i]);it=!1},d(o){o&&(h(e),h(l),h(s),h(r),h(P),h(_),h(dt),h(mt),h(gt),h(N),h(vt),h(bt),h(kt),h(U),h(wt),h(Ct),h(Tt),h(J)),_t(t,o),Nt(T,o),B&&B.d();for(let i=0;i<j.length;i+=1)j[i].d();Nt($,o),Rt=!1,ue(Ft)}}}const F=4;function Me(a,e,n){let{chords:l}=e,t="",s=6,r=[];const u=()=>{s+=4,n(2,r=l.filter(k=>k.creationDate).sort((k,H)=>H.creationDate-k.creationDate).slice(0,s))};let f=[],d=[];const g=()=>{f.length>=l.length-F&&n(3,f=[]);for(let k=0;k<F;k++){let H=-1;for(;H===-1||f.includes(H);)H=Math.floor(Math.random()*l.length);f.push(H)}n(4,d=f.slice(f.length-F).map(k=>l[k]))},P=()=>{f.length<=F||(f.splice(f.length-F),n(4,d=f.slice(f.length-F).map(k=>l[k])))},_=l.reduce((k,H)=>{const R=H.artist;return k[R]||(k[R]=[]),k[R].push(H),k},{});pe(()=>{g(),u()});const C=()=>u();function b(){t=this.value,n(1,t)}const O=()=>n(1,t="");return a.$$set=k=>{"chords"in k&&n(0,l=k.chords)},[l,t,r,f,d,u,g,P,_,C,b,O]}class je extends Et{constructor(e){super(),St(this,e,Me,Be,yt,{chords:0})}}function Ie(a){let e,n;return e=new je({props:{chords:a[0].chords}}),{c(){ft(e.$$.fragment)},l(l){ut(e.$$.fragment,l)},m(l,t){ht(e,l,t),n=!0},p(l,[t]){const s={};t&1&&(s.chords=l[0].chords),e.$set(s)},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){_t(e,l)}}}function He(a,e,n){let{data:l}=e;return a.$$set=t=>{"data"in t&&n(0,l=t.data)},[l]}class De extends Et{constructor(e){super(),St(this,e,He,Ie,yt,{data:0})}}export{De as component,Ne as universal};
